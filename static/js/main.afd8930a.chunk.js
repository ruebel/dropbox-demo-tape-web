(this["webpackJsonpdropbox-demo-tape-web"]=this["webpackJsonpdropbox-demo-tape-web"]||[]).push([[0],{188:function(e,n,t){},198:function(e,n){},200:function(e,n){},233:function(e,n){},234:function(e,n){},319:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),a=t(11),c=t.n(a),o=(t(188),t(27)),s=t(3),l=t(178),u=t(349),d=t(177),p=t.n(d),j=t(8),b=t.n(j),h=t(14),f=t(6),g=t(5),O=t(109);function x(e,n,t){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(b.a.mark((function e(n,t,r){var i,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.filesUpload({autorename:!1,contents:JSON.stringify(t),mode:{".tag":"overwrite"},mute:!0,path:r});case 2:return i=e.sent,a=i.result,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=t(50);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(".").pop()}function k(e){var n;return null===e||void 0===e||null===(n=e.sharing_info)||void 0===n?void 0:n.modified_by}function w(e){return Object(m.a)(new Set(e.map(k))).filter(Boolean)}function S(e){return["mp3","m4a","ovw","wav"].includes(y(e))}function C(e){return"file"===e[".tag"]}function z(e){return"folder"===e[".tag"]}function P(e){return z(e)||C(e)&&S(e.name)}function E(e){return z(e)||C(e)&&(n=e.name,["png","jpg","jpeg"].includes(y(n)));var n}function I(e){return Object(g.a)(Object(g.a)({},e),{},{isAudioFile:S(e.name),isFolder:"folder"===e[".tag"],isPlaylist:(n=e.name,"mix"===y(n)),path:e.path_display,type:e[".tag"],user:k(e)});var n}function D(e){return T.apply(this,arguments)}function T(){return(T=Object(h.a)(b.a.mark((function e(n){var t,r,i,a,c,o,s,l,u,d,p=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>1&&void 0!==p[1]?p[1]:"",r=p.length>2?p[2]:void 0,i=p.length>3?p[3]:void 0,e.next=5,n.filesListFolder({path:t});case 5:return a=e.sent,c=a.result,o=c.cursor,s=c.entries,l=c.hasMore,u=r?P:i?E:z,d={cursor:o,data:s.filter(u).map(I),hasMore:l,path:t},e.abrupt("return",d);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.substring(0,e.lastIndexOf("."))}function B(e,n,t,r){return e.map((function(e){return t(e)===n?r:e}))}function _(e){return e.meta.id}var L=t(35),M=t(158),F=t(159),H=t(180),N=t(179),R="/dropbox-demo-tape-web",U="https://hooks.zapier.com/hooks/catch/3498170/os51faz";function V(e){return"".concat(R).concat(e)}function J(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var t={env:"production",error:e.toString(),info:JSON.stringify(n),url:window.location.href,timestamp:new Date};fetch(U,{body:JSON.stringify(t),method:"POST"})}catch(r){console.error("Error logging error",{originalError:e,logginError:r})}}var K=function(e){Object(H.a)(t,e);var n=Object(N.a)(t);function t(){return Object(M.a)(this,t),n.apply(this,arguments)}return Object(F.a)(t,[{key:"componentDidCatch",value:function(e,n){J(e,n)}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);function G(e,n){var t=Object(r.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(r){return console.error(r),J(r),n}})),i=Object(f.a)(t,2),a=i[0],c=i[1];return[a,function(n){try{var t=n instanceof Function?n(a):n;c(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error(r),J(r)}}]}var W=t(1),$=Object(r.createContext)();function q(e){var n=e.children,t=e.initialState,i=void 0===t?{}:t,a=G("ddt",i),c=Object(f.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(o),u=Object(f.a)(l,2),d=u[0],p=u[1];Object(r.useEffect)((function(){s(d)}),[d]);var j={getValue:function(e){return d[e]},setValue:function(e,n){p((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(L.a)({},e,n))}))},resetCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p((function(){return Object(g.a)(Object(g.a)({},i),e)}))},state:d};return Object(W.jsx)($.Provider,{value:j,children:n})}function Q(){var e=Object(r.useContext)($);if(void 0===e)throw new Error("useCache must be used within a CacheProvider");return e}var X=r.createContext(),Y="ie394xarjsfdxr0";function Z(e){var n,t=e.authUrl,i=e.children,a=Q(),c=r.useState(a.getValue("currentUser")),o=Object(f.a)(c,2),s=o[0],l=o[1],u=r.useState(null),d=Object(f.a)(u,2),p=d[0],j=d[1],g=r.useState(a.getValue("accessToken")),x=Object(f.a)(g,2),v=x[0],m=x[1],y=r.useState(null),k=Object(f.a)(y,2),w=k[0],S=k[1],C=r.useState(null),z=Object(f.a)(C,2),P=z[0],E=z[1];r.useEffect((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new O.Dropbox({accessToken:v,clientId:Y}),E(n),e.next=4,n.auth.getAuthenticationUrl(t);case 4:(r=e.sent)?S(r):j("Invalid Dropbox Id");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.useEffect((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.usersGetCurrentAccount();case 2:n=e.sent,t=null===n||void 0===n?void 0:n.result,l(t),a.setValue("currentUser",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v&&!s&&P&&function(){e.apply(this,arguments)}()}),[v,P]);var I={accessToken:v,authHref:w,currentUser:s,dbx:P,error:p,isAuthenticated:null===P||void 0===P||null===(n=P.auth)||void 0===n?void 0:n.accessToken,onLogout:function(){m(""),l(null),E(null),a.resetCache({clientId:Y})},parseAcessToken:function(e){var n=function(e){var n=Object.create(null);return"string"!==typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),i=t.length>0?t.join("="):void 0;r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),void 0===n[r]?n[r]=i:Array.isArray(n[r])?n[r].push(i):n[r]=[n[r],i]})),n):n}(window.location.hash).access_token;E(new O.Dropbox({accessToken:n,clientId:Y})),a.setValue("accessToken",n),m(n)}};return Object(W.jsx)(X.Provider,{value:I,children:i})}function ee(){var e=r.useContext(X);if(void 0===e)throw new Error("useCache must be used within a DropboxContext");return e}var ne="mediaSession"in navigator,te=[{src:"".concat("/dropbox-demo-tape-web","/android-icon-96x96.png"),sizes:"96x96",type:"image/png"},{src:"".concat("/dropbox-demo-tape-web","/android-icon-144x144.png"),sizes:"144x144",type:"image/png"},{src:"".concat("/dropbox-demo-tape-web","/android-icon-180x180.png"),sizes:"180x180",type:"image/png"}];function re(){var e=Q(),n=ee(),t=n.dbx,i=n.isAuthenticated,a=Object(r.useState)(!1),c=Object(f.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(e.getValue("users")||{}),u=Object(f.a)(l,2),d=u[0],p=u[1];function j(){return(j=Object(h.a)(b.a.mark((function e(n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=n.filter((function(e){return!d[e]}))).length>0&&t&&i)){e.next=17;break}return s(!0),e.prev=3,e.next=6,t.usersGetAccountBatch({account_ids:r});case 6:return a=e.sent,O(c=((null===a||void 0===a?void 0:a.result)||a).reduce((function(e,n){return Object(g.a)(Object(g.a)({},e),{},Object(L.a)({},n.account_id,n))}),d)),s(!1),e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(3),J(e.t0),console.error(e.t0);case 17:return e.abrupt("return",d);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function O(n){p(n),e.setValue("users",n)}return{data:d,isLoading:o,fetchUsers:function(e){return j.apply(this,arguments)}}}function ie(e){var n=e.forceRefresh,t=e.playlistId,i=Q(),a=ee(),c=a.dbx,o=a.isAuthenticated,s=re().fetchUsers,l=Object(r.useState)(!1),u=Object(f.a)(l,2),d=u[0],p=u[1],j=Object(r.useState)(!1),O=Object(f.a)(j,2),v=O[0],y=O[1],S=Object(r.useState)({}),C=Object(f.a)(S,2),z=C[0],P=C[1],E=i.getValue("playlists"),I=t&&Array.isArray(E)?E.find((function(e){return e.meta.id===t})):null;function D(){return(D=Object(h.a)(b.a.mark((function e(n,t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(c,t,n);case 2:return r=e.sent,M({data:t,meta:r},!0),e.abrupt("return",r.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(h.a)(b.a.mark((function e(n){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return p(!0),e.next=5,c.filesDelete({path:n.meta.path_lower});case 5:t=E.filter((function(e){return e.meta.id!==n.meta.id})),i.setValue("playlists",t),p(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(h.a)(b.a.mark((function e(n){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),M(n),e.next=4,x(c,n.data,n.meta.path_lower);case 4:t=e.sent,M(Object(g.a)(Object(g.a)({},n),{},{meta:t})),y(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.sort((function(e,n){return e.data.title.localeCompare(n.data.title)}));i.setValue("playlists",n)}function M(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n?[].concat(Object(m.a)(E),[e]):B(E,_(e),_,e);L(t)}return Object(r.useEffect)((function(){if(o&&c&&!d&&(n||0===E.length)){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n,t,r,i,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.filesSearch({path:"",query:".mix"});case 2:return t=e.sent,e.next=5,Promise.all(null===t||void 0===t||null===(n=t.result)||void 0===n?void 0:n.matches.map((function(e){return c.filesDownload({path:e.metadata.path_display})})));case 5:return r=e.sent,e.next=8,Promise.all(r.map((function(e){return new Promise((function(n){var t=new FileReader;t.addEventListener("loadend",(function(t){try{var r=t.srcElement.result,i=JSON.parse(r);n({data:i,meta:e.result})}catch(t){console.error(t),J(t),n(null)}})),t.readAsText(e.result.fileBlob)}))})));case 8:return i=e.sent,a=w(r),e.next=12,s(a);case 12:o=e.sent,L((i||[]).filter(Boolean).map((function(e){return Object(g.a)(Object(g.a)({},e),{},{meta:Object(g.a)(Object(g.a)({},e.meta),{},{user:o[k(e.meta)]})})}))),p(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p(!0),function(){e.apply(this,arguments)}()}}),[c,o]),Object(r.useEffect)((function(){var e;function n(){return(n=Object(h.a)(b.a.mark((function e(n){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:t=e.sent,P(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(null===I||void 0===I||null===(e=I.data)||void 0===e?void 0:e.tracks){var t=w(I.data.tracks);t.length>0&&function(e){n.apply(this,arguments)}(t)}}),[I]),{isLoading:d,isSaving:v,onCreatePlaylist:function(e,n){return D.apply(this,arguments)},onDeletePlaylist:function(e){return T.apply(this,arguments)},onSavePlaylist:function(e){return A.apply(this,arguments)},playlist:I,playlists:E,users:z}}var ae=Object(r.createContext)(),ce="loading",oe="paused",se="playing",le="stopped",ue={duration:0,isMuted:!1,playlistId:null,position:0,trackId:null,state:le,volume:1};function de(e,n){switch(n.type){case"duration":return Object(g.a)(Object(g.a)({},e),n.payload);case"loaded":return"loading"===e.state?Object(g.a)(Object(g.a)({},e),{},{position:0,state:se}):e;case"mute":return Object(g.a)(Object(g.a)({},e),{},{isMuted:!0});case"pause":return e.state===se?Object(g.a)(Object(g.a)({},e),{},{state:oe}):e;case"play":return Object(g.a)(Object(g.a)(Object(g.a)({},e),n.payload),{},{state:ce});case"position":return Object(g.a)(Object(g.a)({},e),n.payload);case"resume":return Object(g.a)(Object(g.a)({},e),{},{state:se});case"stop":return Object(g.a)(Object(g.a)({},e),{},{position:0,state:le});case"tick":return Object(g.a)(Object(g.a)({},e),{},{position:e.position+1e3});case"unmute":return Object(g.a)(Object(g.a)({},e),{},{isMuted:!1});case"volume":return Object(g.a)(Object(g.a)(Object(g.a)({},e),n.payload),{},{isMuted:0===n.payload.volume});default:throw new Error}}function pe(e){var n,t,i,a=e.children,c=e.initialState,o=void 0===c?{}:c,s=Object(r.useReducer)(de,Object(g.a)(Object(g.a)({},ue),o)),l=Object(f.a)(s,2),u=l[0],d=u.duration,p=u.isMuted,j=u.playlistId,O=u.position,x=u.state,v=u.trackId,m=u.volume,y=l[1],k=Object(r.useRef)(),w=ee().dbx,S=ie({playlistId:j}),C={setDuration:function(e){var n=e.duration,t=e.position,r=void 0===t?0:t,i=e.playbackRate,a=void 0===i?1:i;ne&&"setPositionState"in navigator.mediaSession&&window.navigator.mediaSession.setPositionState({duration:n,position:r,playbackRate:a})},setHandlers:function(e){var n=e.onNext,t=e.onPause,r=e.onPlay,i=e.onPrevious,a=e.onSeek;if(ne){try{navigator.mediaSession.setActionHandler("play",r)}catch(c){}try{navigator.mediaSession.setActionHandler("pause",t)}catch(c){}try{navigator.mediaSession.setActionHandler("nexttrack",n)}catch(c){}try{navigator.mediaSession.setActionHandler("previoustrack",i)}catch(c){}try{navigator.mediaSession.setActionHandler("seekbackward",(function(){return a(void 0,!1)}))}catch(c){}try{navigator.mediaSession.setActionHandler("seekforward",(function(){return a(void 0,!0)}))}catch(c){}try{navigator.mediaSession.setActionHandler("seekto",(function(e){var n=e.seekTime;return a(n)}))}catch(c){}}},setState:function(e){ne&&(navigator.mediaSession.playbackState=e)},setTrack:function(e){var n=e.album,t=e.artist,r=void 0===t?"Demo Tape":t,i=e.artwork,a=void 0===i?te:i,c=e.title;ne&&(navigator.mediaSession.metadata=new MediaMetadata({title:c,artist:r,album:n,artwork:a}))}},z=G("playlistImages"),P=Object(f.a)(z,1)[0],E=void 0===P?{}:P,I=null===S||void 0===S||null===(n=S.playlist)||void 0===n?void 0:n.data,D=(null===I||void 0===I?void 0:I.tracks)||[],T=null===S||void 0===S||null===(t=S.playlist)||void 0===t||null===(i=t.meta)||void 0===i?void 0:i.rev,B=Object(r.useMemo)((function(){var e=v?D.findIndex((function(e){return e.id===v})):I?0:-1,n=e>=0?D[e]:null,t=!!n&&e<D.length-1,r=!!n&&e>0;if(n){var i,a=E[null===I||void 0===I||null===(i=I.image)||void 0===i?void 0:i.id];C.setTrack({title:A(null===n||void 0===n?void 0:n.name),artist:(null===I||void 0===I?void 0:I.artist)||(null===I||void 0===I?void 0:I.title),album:null===I||void 0===I?void 0:I.title,artwork:a?[{src:a,sizes:"50x50",type:"image/png"}]:void 0})}return{hasNext:t,hasPrevious:r,track:n,trackIndex:e}}),[T,v,j]),_=B.hasNext,L=B.hasPrevious,M=B.track,F=B.trackIndex;function H(){_&&y({type:"play",payload:{playlistId:j,trackId:D[F+1].id}})}function N(){L&&y({type:"play",payload:{playlistId:j,trackId:D[F-1].id}})}function R(){x!==oe&&y({type:"pause"})}function U(){x===oe&&y({type:"resume"})}function V(e,n){if(M){var t=k.current,r=e;void 0===e&&(r=O+(n?1e4:-1e4)),t.currentTime=r/1e3,C.setDuration({duration:d,position:r}),y({type:"position",payload:{position:r}})}}function J(){x!==le&&y({type:"stop"})}Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n,t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k.current){e.next=3;break}return e.abrupt("return");case 3:if(!M||x!==ce){e.next=12;break}return e.next=6,w.filesGetTemporaryLink({path:M.path_lower});case 6:r=e.sent,n.setAttribute("src",null===r||void 0===r||null===(t=r.result)||void 0===t?void 0:t.link),n.play(),C.setState("playing"),e.next=13;break;case 12:M&&x===se?(n.play(),C.setState("playing")):x===oe?(n.pause(),C.setState("paused")):x===le&&(n.pause(),C.setState("none"),n.currentTime=0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x,v,j]),Object(r.useEffect)((function(){if("playing"===x){var e=setInterval((function(){y({type:"tick"})}),1e3);return function(){return clearInterval(e)}}})),C.setHandlers({onNext:H,onPrevious:N,onPause:R,onPlay:U,onSeek:V});var K={duration:d,hasNext:_,hasPrevious:L,isMuted:p,onMute:function(){y({type:"mute"});var e=k.current;e&&(e.muted=!0)},onNext:H,onPause:R,onPlay:function(e){var n=e.playlistId,t=e.trackId;y({type:"play",payload:{playlistId:n,trackId:t}})},onPrevious:N,onResume:U,onSeek:V,onStop:J,onUnmute:function(){y({type:"unmute"});var e=k.current;e&&(e.muted=!1)},onVolumeChange:function(e){y({type:"volume",payload:{volume:e}});var n=k.current;n&&(n.volume=e,n.muted=0===e)},playlist:null===S||void 0===S?void 0:S.playlist,position:O,state:x,track:M,volume:m};return Object(W.jsxs)(ae.Provider,{value:K,children:[a,(M||x!==le)&&Object(W.jsx)("audio",{onDurationChange:function(e){var n=k.current;n&&(C.setDuration({duration:n.duration}),y({type:"duration",payload:{duration:1e3*n.duration}}))},onEnded:function(e){_?H():J()},onPlay:function(e){y({type:"loaded"})},onProgress:function(e){var n=k.current;n&&y({type:"position",payload:{position:1e3*n.currentTime}})},ref:k})]})}function je(){var e=Object(r.useContext)(ae);if(void 0===e)throw new Error("useAudio must be used within a AudioProvider");return e}function be(e){var n=e.folder,t=void 0===n?"":n,i=e.showFiles,a=void 0!==i&&i,c=e.showImages,o=void 0!==c&&c,s=e.sortBy,l=void 0===s?"":s,u=e.sortDir,d=void 0===u?"":u,p=ee().dbx,j=Object(r.useState)({}),O=Object(f.a)(j,2),x=O[0],v=O[1],m=Object(r.useState)(!1),y=Object(f.a)(m,2),S=y[0],C=y[1],z=re().fetchUsers;Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n,r,i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,D(p,t,a,o);case 3:return n=e.sent,r=w(n.data),e.next=7,z(r);case 7:i=e.sent,c=Object(g.a)(Object(g.a)({},n),{},{data:n.data.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{user:i[k(e)]})}))}),v(Object(L.a)({},t,c)),C(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p&&function(){e.apply(this,arguments)}()}),[p,t]);var P=x[t]||{},E=P.cursor,I=P.data,T=void 0===I?[]:I,A=P.hasMore,B=T;return l&&d&&("name"===l?B=T.sort(function(e){var n="asc"===e?-1:1;return function(e,t){return(e.type===t.type||"folder"!==e.type&&"folder"!==t.type?e.name.localeCompare(t.name):"folder"===t.type?1:-1)*n}}(d)):"modified"===l?B=T.sort(function(e){var n="asc"===e?-1:1;return function(e,t){return(e.type===t.type||"folder"!==e.type&&"folder"!==t.type?new Date(t.server_modified)-new Date(e.server_modified):"folder"===t.type?1:-1)*n}}(d)):"modifiedBy"===l&&(B=T.sort(function(e){var n="asc"===e?-1:1;return function(e,t){var r,i,a,c;return(e.type===t.type||"folder"!==e.type&&"folder"!==t.type?null===(r=e.user)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.display_name.localeCompare(null===(a=t.user)||void 0===a||null===(c=a.name)||void 0===c?void 0:c.display_name):"folder"===t.type?1:-1)*n}}(d)))),{cursor:E,files:B,folder:t,hasMore:A,isLoading:S}}var he="(min-width: 660px) and (max-width: 1023px)",fe="(min-width: 1024px)";function ge(){return function(e,n,t){var i=e.map((function(e){return window.matchMedia(e)})),a=function(){var e=i.findIndex((function(e){return e.matches}));return"undefined"!==typeof n[e]?n[e]:t},c=Object(r.useState)(a),o=Object(f.a)(c,2),s=o[0],l=o[1];return Object(r.useEffect)((function(){var e=function(){return l(a)};return i.forEach((function(n){return n.addListener(e)})),function(){return i.forEach((function(n){return n.removeListener(e)}))}}),[]),s}([he,fe],["medium","large"],"small")}var Oe,xe,ve,me=t(4),ye={background:"#242A31",backgroundLight:"#2D323C",disabled:"#656565",error:"#E7777F",inherit:"inherit",primary:"#D2D2D2",secondary:"#b3b3b3",success:"#A1CA7E",transparent:"transparent",white:"#FFFFFF"},ke={color:Object(g.a)(Object(g.a)({},ye),{},{highlight:"#5EB1BF",bgHighlight:ye.primary+"11"}),typography:{base:Object(s.b)(Oe||(Oe=Object(me.a)(["\n      font-size: 16px;\n      line-height: 25px;\n    "]))),sub:Object(s.b)(xe||(xe=Object(me.a)(["\n      font-size: 14px;\n      font-weight: 400;\n      lint-height: 20px;\n    "])))},space:{small:5,medium:10,large:20},transition:"all 250ms ease-in"},we=s.c.a(ve||(ve=Object(me.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: 10px;\n  border: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: 14px;\n  justify-content: center;\n  padding: 10px 20px;\n  text-decoration: none;\n  text-transform: uppercase;\n  transition: ",";\n\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.color.background}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.white}),(function(e){return e.theme.transition}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.background}),(function(e){return e.disabled?"\n  color: ".concat(e.theme.color.disabled,";\n  cursor: unset;\n  border-color: ").concat(e.theme.color.disabled,";\n\n  :hover {\n    background-color: ").concat(e.theme.color.background,";\n    color: ").concat(e.theme.color.disabled,";\n  }\n"):""}));var Se,Ce=function(e){return Object(W.jsx)(we,Object(g.a)({as:e.to?o.a:void 0},e))},ze=s.c.div(Se||(Se=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 20px;\n  justify-content: center;\n  padding: 40px;\n"])));var Pe,Ee,Ie,De=function(){var e=ee(),n=e.authHref,t=e.isAuthenticated,i=e.parseAcessToken;return!t&&window.location.hash.includes("access_token")&&i(),t?Object(W.jsx)(o.b,{noThrow:!0,to:R}):Object(W.jsxs)(ze,{children:[Object(W.jsx)("h1",{children:"Welcome"}),Object(W.jsx)(r.Fragment,{children:Object(W.jsx)(Ce,{href:n,children:"Authenticate With Dropbox"})})]})},Te=s.c.button(Pe||(Pe=Object(me.a)(["\n  background-color: ",";\n  border-radius: 10px;\n  border: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: 14px;\n  justify-content: center;\n  outline: none;\n  padding: 10px 20px;\n  text-transform: uppercase;\n\n  transition: ",";\n\n  :hover,\n  :focus {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.color.background}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.white}),(function(e){return e.theme.transition}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.background}),(function(e){return e.disabled?"\n    color: ".concat(e.theme.color.disabled,";\n    cursor: unset;\n    border-color: ").concat(e.theme.color.disabled,";\n\n    :hover, :focus {\n      background-color: ").concat(e.theme.color.background,";\n      color: ").concat(e.theme.color.disabled,";\n    }\n  "):""})),Ae=t(163),Be=t.n(Ae),_e=s.c.button(Ee||(Ee=Object(me.a)(["\n  background-color: transparent;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  padding: 10px;\n  outline: none;\n\n  :hover,\n  :focus {\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.highlight})),Le=function(e){var n=e.name,t=void 0===n?"Home":n,r=e.onClick,i=e.path;return Object(W.jsx)(_e,{onClick:function(){return r(i)},children:t})},Me=s.c.div(Ie||(Ie=Object(me.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  padding-left: 10px;\n"])));var Fe,He,Ne,Re,Ue=function(e){var n=e.onClick,t=(e.onSort,e.path),i=(void 0===t?"":t).split("/").map((function(e,t,i){var a=i.slice(0,t+1).join("/");return Object(W.jsxs)(r.Fragment,{children:[0!==t&&Object(W.jsx)("span",{children:"/"}),Object(W.jsx)(Le,{name:e||"Home",onClick:n,path:a})]},t)}));return Object(W.jsxs)(Me,{children:[Object(W.jsx)(Be.a,{})," ",i]})},Ve=t(167),Je=t.n(Ve),Ke=t(166),Ge=t.n(Ke),We=t(164),$e=t.n(We),qe=t(165),Qe=t.n(qe),Xe=s.c.div(Fe||(Fe=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 20px 1fr 0.5fr 0.5fr;\n"]))),Ye=s.c.span(He||(He=Object(me.a)(["\n  ","\n"])),(function(e){return e.theme.typography.base})),Ze=s.c.span(Ne||(Ne=Object(me.a)(["\n  ","\n"])),(function(e){return e.theme.typography.sub})),en=s.c.button(Re||(Re=Object(me.a)(["\n  background-color: ",";\n  border: none;\n  border-top: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  height: 61px;\n  outline: none;\n  padding: ","px ","px;\n  text-align: left;\n  width: 100%;\n\n  :hover {\n    background-color: ","11;\n  }\n"])),(function(e){return e.theme.color[e.isSelected?"bgHighlight":"background"]}),(function(e){return e.theme.color.bgHighlight}),(function(e){return e.theme.color[e.isSelected?"highlight":"inherit"]}),(function(e){return e.theme.space.medium}),(function(e){return e.theme.space.large}),(function(e){return e.theme.color.primary}));var nn,tn,rn=function(e){var n,t,r=e.entry,i=e.onClick,a=e.isSelected,c=void 0!==a&&a,o=c?$e.a:r.isFolder?Qe.a:Ge.a;return Object(W.jsx)(en,{isSelected:c,onClick:function(){return i(r)},children:Object(W.jsxs)(Xe,{children:[Object(W.jsx)(o,{}),Object(W.jsx)(Ye,{children:r.name}),"file"===r.type&&Object(W.jsxs)(Ze,{children:[Je()(new Date(r.server_modified))," ago"]}),"file"===r.type&&Object(W.jsx)(Ze,{children:null===(n=r.user)||void 0===n||null===(t=n.name)||void 0===t?void 0:t.display_name})]})})},an=function(e,n){return n},cn=s.c.div(nn||(nn=Object(me.a)(["\n  ","\n  color: ",";\n  font-size: 18px;\n  padding: 20px;\n"])),(function(e){return e.theme.typography.base}),(function(e){return e.theme.color.secondary})),on=s.c.ul(tn||(tn=Object(me.a)(["\n  list-style-type: none;\n  margin: 0;\n  margin-block-end: 0;\n  margin-block-start: 0;\n  padding: 0;\n  padding-inline-start: 0;\n  -webkit-margin-start: 0;\n  -webkit-padding-start: 0;\n  ","\n"])),(function(e){return(n=e.gap)?"\n        display: grid;\n        grid-gap: ".concat(n,"px;\n      "):"";var n}));function sn(e){var n=e.emptyMessage,t=e.isLoading,r=e.itemRenderer,i=e.items,a=e.gap,c=e.getKey,o=void 0===c?an:c;if(!t&&0===i.length&&n)return Object(W.jsx)(cn,{children:n});var s=i.map((function(e,n){return Object(W.jsx)("li",{children:r(e,n)},o(e,n))}));return Object(W.jsx)(on,{gap:a,children:s})}sn.defaultProps={getKey:an};var ln,un,dn=sn,pn=t(348),jn=s.c.div(ln||(ln=Object(me.a)(["\n  height: ",";\n  width: ",";\n"])),(function(e){return e.height}),(function(e){return e.width})),bn=s.c.div(un||(un=Object(me.a)(["\n  margin-bottom: -4px;\n"])));var hn,fn=function(e){var n=e.isLoading;return Object(W.jsx)(bn,{children:n?Object(W.jsx)(pn.a,{}):Object(W.jsx)(jn,{height:"4px"})})},gn=t(168),On=t.n(gn),xn=t(80),vn=t.n(xn),mn=s.c.button(hn||(hn=Object(me.a)(["\n  align-items: center;\n  background-color: transparent;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  font-size: 14px;\n  font-weight: 700;\n  line-height: 27px;\n  margin: 0;\n  outline: none;\n  padding: 0;\n\n  :hover,\n  :focus {\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.highlight}));var yn,kn,wn=function(e){var n=e.children,t=e.onClick,r=e.sortDir,i="asc"===r?vn.a:"desc"===r?On.a:null;return Object(W.jsxs)(mn,{onClick:t,children:[Object(W.jsx)("span",{children:n}),i&&Object(W.jsx)(i,{})]})},Sn=s.c.div(yn||(yn=Object(me.a)(["\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 20px 1fr 0.5fr 0.5fr;\n  padding: 0 20px;\n"]))),Cn=s.c.div(kn||(kn=Object(me.a)(["\n  display: grid;\n"])));var zn,Pn,En,In,Dn,Tn=function(e){var n=e.onPathChange,t=e.onSelectionChange,i=e.selectedEntries,a=void 0===i?[]:i,c=e.singleSelection,o=void 0!==c&&c,s=e.showFiles,l=void 0!==s&&s,u=e.showImages,d=void 0!==u&&u,p=Object(r.useState)(""),j=Object(f.a)(p,2),b=j[0],h=j[1],g=Object(r.useState)(""),O=Object(f.a)(g,2),x=O[0],v=O[1],y=Object(r.useState)(""),k=Object(f.a)(y,2),w=k[0],S=k[1],C=be({folder:b,showFiles:l,showImages:d,sortBy:x,sortDir:w}),z=C.files,P=C.isLoading;function E(e){"folder"===e.type?(h(e.path),n&&n(e.path)):(l||d)&&(o?a.some((function(n){return n.id===e.id}))?t([null]):t([e]):a.some((function(n){return n.id===e.id}))?t(a.filter((function(n){return n.id!==e.id}))):t([].concat(Object(m.a)(a),[e])))}function I(e){e!==x?(v(e),S("desc")):"desc"===w?S("asc"):(S(""),v(""))}return Object(W.jsxs)(Cn,{children:[Object(W.jsx)(Ue,{onClick:h,path:b}),Object(W.jsx)(jn,{height:"10px"}),Object(W.jsxs)(Sn,{children:[Object(W.jsx)("span",{}),Object(W.jsx)(wn,{onClick:function(){return I("name")},sortDir:"name"===x?w:null,children:"Name"}),Object(W.jsx)(wn,{onClick:function(){return I("modified")},sortDir:"modified"===x?w:null,children:"Modified"}),Object(W.jsx)(wn,{onClick:function(){return I("modifiedBy")},sortDir:"modifiedBy"===x?w:null,children:"Modified By"})]}),Object(W.jsx)(fn,{isLoading:P}),Object(W.jsx)(dn,{emptyMessage:"There are no files here",isLoading:P,items:z,itemRenderer:function(e){return Object(W.jsx)(rn,{entry:e,isSelected:a.some((function(n){return n.path_lower===e.path_lower})),onClick:E})}})]})},An=t(86),Bn=Object(s.b)(zn||(zn=Object(me.a)(["\n  border-color: ",";\n  color: ",";\n"])),(function(e){return e.theme.color.error}),(function(e){return e.theme.color.error})),_n=s.c.span(Pn||(Pn=Object(me.a)(["\n  ","\n  font-size: 14px;\n  font-weight: 700;\n"])),Bn),Ln=s.c.input(En||(En=Object(me.a)(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 10px;\n  color: inherit;\n  font-size: 16px;\n  line-height: 37px;\n  outline: none;\n  padding: 2px 15px;\n  width: 100%;\n"])),(function(e){return e.theme.color.background}),(function(e){return e.theme.color.primary})),Mn=s.c.div(In||(In=Object(me.a)(["\n  background-color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  left: 10px;\n  padding: 0 5px;\n  position: absolute;\n  top: -6px;\n"])),(function(e){return e.theme.color.background})),Fn=s.c.label(Dn||(Dn=Object(me.a)(["\n  color: ",";\n  position: relative;\n\n  :focus-within {\n    color: ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.color.secondary}),(function(e){return e.theme.color.white}),(function(e){return e.hasError?Bn:""}));var Hn,Nn,Rn,Un,Vn,Jn,Kn=function(e){var n=e.error,t=e.hasError,r=e.onChange,i=e.title,a=e.value,c=Object(An.a)(e,["error","hasError","onChange","title","value"]);return Object(W.jsxs)(Fn,{hasError:t,children:[Object(W.jsx)(Ln,Object(g.a)(Object(g.a)({},c),{},{hasError:t,onChange:function(e){return r(e.target.value)},type:"text",value:a})),Object(W.jsx)(Mn,{children:i}),n&&Object(W.jsx)(_n,{children:n})]})},Gn=s.c.div(Hn||(Hn=Object(me.a)(["\n  overflow-y: scroll;\n  height: 470px;\n"]))),Wn=s.c.div(Nn||(Nn=Object(me.a)(["\n  background-color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  left: 10px;\n  padding: 0 5px;\n  position: absolute;\n  top: -6px;\n"])),(function(e){return e.theme.color.background})),$n=s.c.div(Rn||(Rn=Object(me.a)(["\n  border: 1px solid ",";\n  border-radius: 10px;\n  max-height: 480px;\n  padding: 5px;\n  position: relative;\n"])),(function(e){return e.theme.color.primary})),qn=s.c.div(Un||(Un=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr auto auto;\n  grid-gap: 20px;\n  margin-bottom: 20px;\n"]))),Qn=s.c.h2(Vn||(Vn=Object(me.a)([""]))),Xn=s.c.form(Jn||(Jn=Object(me.a)(["\n  display: grid;\n  grid-gap: 20px;\n  padding: 20px;\n"])));var Yn=function(e){var n=e.navigate,t=Object(r.useState)(""),i=Object(f.a)(t,2),a=i[0],c=i[1],o=Object(r.useState)(""),s=Object(f.a)(o,2),l=s[0],u=s[1],d=Object(r.useState)("/"),p=Object(f.a)(d,2),j=p[0],g=p[1],O=ie({}).onCreatePlaylist,x=!!a&&!!l&&!!j;function v(){return(v=Object(h.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O("".concat(j,"/").concat(l,".mix"),{artist:a,title:l,tracks:[]});case 3:return r=e.sent,n(V("/playlist/".concat(r))),e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(W.jsxs)(Xn,{onSubmit:x?function(e){return v.apply(this,arguments)}:void 0,children:[Object(W.jsxs)(qn,{children:[Object(W.jsx)(Qn,{children:"Add Playlist"}),Object(W.jsx)(Te,{disabled:!x,type:"submit",children:"Save"}),Object(W.jsx)(Ce,{to:R,children:"Cancel"})]}),Object(W.jsx)(Kn,{onChange:u,title:"Title",value:l}),Object(W.jsx)(Kn,{onChange:c,title:"Artist",value:a}),Object(W.jsxs)($n,{children:[Object(W.jsx)(Gn,{children:Object(W.jsx)(Tn,{onPathChange:g})}),Object(W.jsx)(Wn,{children:"Location"})]})]})},Zn={none:"none",fetched:"fetched",error:"error"};var et,nt,tt,rt,it,at=function(e){var n,t,i,a,c=e.playlist,o=e.size,s=void 0===o?50:o,l=Object(r.useState)(),u=Object(f.a)(l,2),d=u[0],p=u[1],j=Object(r.useState)(Zn.none),O=Object(f.a)(j,2),x=O[0],v=O[1],m=ee().dbx,y=G("playlistImages"),k=Object(f.a)(y,2),w=k[0],S=void 0===w?{}:w,C=k[1],z=null===c||void 0===c||null===(n=c.data)||void 0===n||null===(t=n.image)||void 0===t?void 0:t.id;return Object(r.useEffect)((function(){if(!d||x===Zn.error){var e=S[z];x!==Zn.error&&e?p(e):function(){n.apply(this,arguments)}()}function n(){return(n=Object(h.a)(b.a.mark((function e(){var n,t,r,i,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.image)){e.next=9;break}return e.next=3,m.filesGetTemporaryLink({path:null===(t=c.data.image)||void 0===t?void 0:t.path_lower});case 3:o=e.sent,p(null===o||void 0===o||null===(r=o.result)||void 0===r?void 0:r.link),C(Object(g.a)(Object(g.a)({},S),{},Object(L.a)({},null===c||void 0===c||null===(i=c.data)||void 0===i||null===(a=i.image)||void 0===a?void 0:a.id,null===o||void 0===o?void 0:o.link))),v(Zn.fetched),e.next=11;break;case 9:p(""),v(Zn.error);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[z,x,null===c||void 0===c||null===(i=c.meta)||void 0===i?void 0:i.id]),Object(W.jsx)("img",{alt:null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.title,height:"100%"===s?"auto":s,onError:function(e){d&&Zn!==Zn.fetched&&v(Zn.error)},src:d||"".concat("/dropbox-demo-tape-web","/android-icon-96x96.png"),width:s})},ct=s.c.div(et||(et=Object(me.a)(["\n  ","\n  color: ",";\n"])),(function(e){return e.theme.typography.sub}),(function(e){return e.theme.color.disabled})),ot=s.c.div(nt||(nt=Object(me.a)(["\n  display: grid;\n"]))),st=s.c.span(tt||(tt=Object(me.a)(["\n  color: ",";\n"])),(function(e){return e.theme.color.primary})),lt=s.c.h1(rt||(rt=Object(me.a)(["\n  font-size: ","px;\n"])),(function(e){return"large"===e.size?32:24})),ut=s.c.div(it||(it=Object(me.a)(["\n  display: grid;\n  grid-gap: ","px;\n  grid-template-columns: 50px 1fr;\n"])),(function(e){return"large"===e.size?20:10}));var dt,pt,jt=function(e){var n=e.playlist,t=ge();return Object(W.jsxs)(ut,{size:t,children:[Object(W.jsx)(at,{playlist:n}),Object(W.jsxs)(ot,{children:[Object(W.jsx)(lt,{size:t,children:n.data.title}),n.data.artist&&Object(W.jsxs)(ct,{children:["By ",Object(W.jsx)(st,{children:n.data.artist})]})]})]})},bt=s.c.div(dt||(dt=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n"]))),ht=s.c.div(pt||(pt=Object(me.a)(["\n  display: grid;\n  flex-direction: row;\n  grid-gap: 20px;\n  grid-template-columns: ",";\n  padding: 20px;\n"])),(function(e){return"small"===e.size?"1fr":"1fr auto"}));var ft,gt,Ot,xt,vt,mt,yt,kt,wt=function(e){var n=e.playlistId,t=ie({playlistId:n}),i=t.isLoading,a=t.onSavePlaylist,c=t.playlist,s=Object(r.useState)([]),l=Object(f.a)(s,2),u=l[0],d=l[1],p=Object(r.useState)(!1),j=Object(f.a)(p,2),b=j[0],h=j[1],O=Object(o.d)(),x=ge(),v=V("/playlist/".concat(n));return Object(r.useEffect)((function(){var e;d(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.image)}),[i,c]),Object(W.jsxs)("div",{children:[Object(W.jsxs)(ht,{size:x,children:[Object(W.jsx)(jt,{playlist:c}),Object(W.jsxs)(bt,{children:[Object(W.jsx)(Te,{disabled:!b,onClick:function(){a(Object(g.a)(Object(g.a)({},c),{},{data:Object(g.a)(Object(g.a)({},c.data),{},{image:u})})),O(v)},children:"Save"}),Object(W.jsx)(Ce,{to:v,children:"Cancel"})]})]}),Object(W.jsx)(Tn,{onSelectionChange:function(e){var n=Object(f.a)(e,1)[0];d(n),b||h(!0)},selectedEntries:u?[u]:[],showImages:!0})]})},St=t(81),Ct=t.n(St),zt=Object(s.c)(o.a)(ft||(ft=Object(me.a)(["\n  color: ",";\n  cursor: pointer;\n  text-decoration: none;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.highlight})),Pt=s.c.div(gt||(gt=Object(me.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px;\n"]))),Et=s.c.h2(Ot||(Ot=Object(me.a)([""]))),It=s.c.div(xt||(xt=Object(me.a)(["\n  color: ",";\n"])),(function(e){return e.theme.color.disabled})),Dt=s.c.span(vt||(vt=Object(me.a)(["\n  ","\n  text-align: right;\n"])),(function(e){return e.theme.typography.sub})),Tt=s.c.span(mt||(mt=Object(me.a)(["\n  ","\n  color: ",";\n"])),(function(e){return e.theme.typography.sub}),(function(e){return e.theme.color.secondary})),At=s.c.div(yt||(yt=Object(me.a)(["\n  ","\n  align-items: center;\n  background-color: ",";\n  border: none;\n  border-top: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 50px 1fr auto;\n  line-height: 30px;\n  outline: none;\n  padding: ","px ","px;\n  text-align: left;\n\n  :hover {\n    background-color: ","11;\n  }\n"])),(function(e){return e.theme.typography.base}),(function(e){return e.theme.color[e.isPlaying?"bgHighlight":"background"]}),(function(e){return e.theme.color.bgHighlight}),(function(e){return e.theme.color[e.isPlaying?"highlight":"inherit"]}),(function(e){return e.theme.space.medium}),(function(e){return e.theme.space.large}),(function(e){return e.theme.color.primary})),Bt=s.c.div(kt||(kt=Object(me.a)(["\n  display: grid;\n"])));var _t=function(){var e=ie({forceRefresh:!0}),n=ge();return Object(W.jsxs)("div",{children:[Object(W.jsx)(Pt,{children:Object(W.jsx)(Ce,{to:"new",children:"Add"})}),Object(W.jsx)(fn,{isLoading:e.isLoading}),Object(W.jsx)(dn,{getKey:function(e){return e.meta.id},items:e.playlists,itemRenderer:function(e){var t,r,i=null===(t=e.meta.user)||void 0===t||null===(r=t.name)||void 0===r?void 0:r.display_name;return Object(W.jsx)(zt,{to:"playlist/".concat(e.meta.id),children:Object(W.jsxs)(At,{children:[Object(W.jsx)(at,{playlist:e}),Object(W.jsxs)(Bt,{children:[Object(W.jsx)(Et,{children:e.data.title}),Object(W.jsx)(Tt,{children:e.data.artist||e.meta.path_display})]}),"small"!==n&&Object(W.jsxs)(Dt,{children:["Updated"," ",Ct()(new Date(e.meta.server_modified),new Date),Object(W.jsxs)(It,{children:[Boolean(i)?"by ":"",i]})]})]})})}})]})};var Lt,Mt,Ft,Ht=function(){return Object(W.jsx)(_t,{})},Nt=t(169),Rt=t.n(Nt),Ut=t(350),Vt=t(351),Jt=s.c.img(Lt||(Lt=Object(me.a)([""]))),Kt=s.c.span(Mt||(Mt=Object(me.a)(["\n  font-size: 16px;\n"]))),Gt=s.c.div(Ft||(Ft=Object(me.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: ",";\n  display: flex;\n  justify-content: center;\n  height: ","px;\n  overflow: hidden;\n  position: relative;\n  width: ","px;\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.background}),(function(e){return e.size}),(function(e){return e.size}));var Wt,$t,qt,Qt,Xt=function(e){var n=e.initials,t=e.name,i=e.size,a=void 0===i?36:i,c=e.url,o=Object(r.useState)(!1),s=Object(f.a)(o,2),l=s[0],u=s[1];return Object(r.useEffect)((function(){c&&l&&u(!1)}),[c]),Object(W.jsx)(Gt,{size:a,children:c&&!l?Object(W.jsx)(Jt,{alt:t||n,height:a,onError:function(){return u(!0)},src:c,width:a}):Object(W.jsx)(Kt,{children:n})})},Yt=s.c.div(Wt||(Wt=Object(me.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n"]))),Zt=s.c.h1($t||($t=Object(me.a)(["\n  padding-left: 10px;\n  font-size: ","px;\n"])),(function(e){return"large"===e.size?36:28})),er=s.c.button(qt||(qt=Object(me.a)(["\n  background: transparent;\n  border: none;\n  margin: 0;\n  outline: none;\n  padding: 0;\n"]))),nr=s.c.div(Qt||(Qt=Object(me.a)(["\n  align-items: center;\n  background-color: ",";\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  padding: 20px;\n"])),(function(e){return e.theme.color.backgroundLight}));var tr,rr,ir,ar=function(e){e.location;var n,t,i=Object(r.useState)(null),a=Object(f.a)(i,2),c=a[0],o=a[1],s=ee(),l=s.currentUser,u=s.onLogout,d=ge();return Object(W.jsxs)(nr,{children:[Object(W.jsx)(zt,{to:R,children:Object(W.jsxs)(Yt,{children:[Object(W.jsx)(Rt.a,{fontSize:"large"}),Object(W.jsx)(Zt,{size:d,children:"Demo Tape"})]})}),Object(W.jsx)("span",{}),l&&Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(er,{"aria-controls":"user-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},children:Object(W.jsx)(Xt,{initials:null===l||void 0===l||null===(n=l.name)||void 0===n?void 0:n.abbreviated_name,name:null===l||void 0===l||null===(t=l.name)||void 0===t?void 0:t.display_name,url:null===l||void 0===l?void 0:l.profile_photo_url})}),Object(W.jsx)(Ut.a,{elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},id:"user-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){o(null)},children:Object(W.jsx)(Vt.a,{onClick:function(){u()},children:"Logout"})})]})]})},cr=t(82),or=t.n(cr),sr=t(49),lr=t.n(sr),ur=t(84),dr=t.n(ur),pr=t(83),jr=t.n(pr),br=s.c.button(tr||(tr=Object(me.a)(["\n  align-items: center;\n  background-color: ",";\n  border: ",";\n  border-radius: 50%;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  height: ","px;\n  justify-content: center;\n  outline: none;\n  transition: ",";\n  width: ","px;\n\n  :hover,\n  :focus {\n    background-color: white;\n    color: ",";\n  }\n\n  ","\n"])),(function(e){return e.hideBackground?"transparent":e.theme.color.background}),(function(e){return e.hideBorder?"none":"1px solid white"}),(function(e){return e.size||30}),(function(e){return e.theme.transition}),(function(e){return e.size||30}),(function(e){return e.theme.color.background}),(function(e){return e.disabled?"\n    color: ".concat(e.theme.color.disabled,";\n    cursor: unset;\n    border-color: ").concat(e.theme.color.transparent,";\n\n    :hover, :focus {\n      background-color: ").concat(e.theme.color.background,";\n      color: ").concat(e.theme.color.disabled,";\n    }\n  "):""}));function hr(e){var n=e/1e3,t=Math.floor(n%60);return fr(Math.floor(n/60))+":"+fr(t)}function fr(e){var n=e.toString();return e<10?"0"+n:n}var gr=s.c.span(rr||(rr=Object(me.a)(["\n  text-align: right;\n"]))),Or=s.c.div(ir||(ir=Object(me.a)(["\n  align-items: center;\n  color: ",";\n  display: grid;\n  grid-template-columns: 60px 1fr 60px;\n  grid-gap: 5px;\n"])),(function(e){return e.theme.color[e.isDisabled?"disabled":"primary"]}));var xr,vr,mr,yr,kr=function(){var e=je(),n=Object(r.useState)(0),t=Object(f.a)(n,2),i=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(f.a)(c,2),s=o[0],l=o[1],u=Object(r.useRef)();function d(n){l(!1);var t=parseInt(u.current.value);isNaN(t)||e.onSeek(t)}var p=s?i:e.position;return Object(W.jsxs)(Or,{isDisabled:!e.track,children:[Object(W.jsx)(gr,{children:hr(p)}),Object(W.jsx)("input",{type:"range",disabled:!e.track,min:0,max:e.duration,onChange:function(e){a(u.current.value)},onMouseDown:function(e){l(!0)},onMouseUp:function(e){d()},onTouchEnd:function(e){d()},onTouchStart:function(e){l(!0)},ref:u,value:p}),Object(W.jsx)("span",{children:hr(e.duration)})]})},wr=s.c.div(xr||(xr=Object(me.a)(["\n  ","\n  color: ",";\n"])),(function(e){return e.theme.typography.sub}),(function(e){return e.theme.color.secondary})),Sr=s.c.div(vr||(vr=Object(me.a)(["\n  display: grid;\n  grid-gap: 2px;\n"]))),Cr=s.c.div(mr||(mr=Object(me.a)(["\n  ","\n  font-weight: 500;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),(function(e){return e.theme.typography.base})),zr=s.c.div(yr||(yr=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: 50px 1fr;\n"])));var Pr,Er,Ir,Dr=function(e){var n,t,r=e.playlist,i=e.track;return Object(W.jsxs)(zr,{children:[Object(W.jsx)(at,{playlist:r}),Object(W.jsxs)(Sr,{children:[Object(W.jsx)(Cr,{children:A(null===i||void 0===i?void 0:i.name)}),Object(W.jsx)(wr,{children:(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.artist)||(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.title)})]})]})},Tr=t(170),Ar=t.n(Tr),Br=t(171),_r=t.n(Br),Lr=s.c.div(Pr||(Pr=Object(me.a)(["\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.highlight})),Mr=s.c.input(Er||(Er=Object(me.a)(["\n  width: 100%;\n"]))),Fr=s.c.div(Ir||(Ir=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: 20px 1fr;\n  padding: 0 10px;\n"])));var Hr,Nr,Rr,Ur,Vr=function(){var e=je(),n=e.isMuted,t=e.onMute,r=e.onUnmute,i=e.onVolumeChange,a=e.volume,c=0===a||n?Ar.a:_r.a;return Object(W.jsxs)(Fr,{children:[Object(W.jsx)(Lr,{as:c,fontSize:"small",onClick:n?r:t}),Object(W.jsx)(Mr,{max:1,min:0,onChange:function(e){return i(e.currentTarget.value)},step:.01,type:"range",value:n?0:a})]})},Jr=s.c.div(Hr||(Hr=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n  justify-content: center;\n"]))),Kr=s.c.div(Nr||(Nr=Object(me.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Gr=s.c.div(Rr||(Rr=Object(me.a)(["\n  display: grid;\n  flex: 1;\n  grid-gap: 5px;\n  max-width: 700px;\n"]))),Wr=s.c.div(Ur||(Ur=Object(me.a)(["\n  align-items: center;\n  background-color: ",";\n  bottom: 0;\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: minmax(200px, 0.5fr) 1fr 150px;\n  padding: 10px 20px;\n  position: absolute;\n  width: 100%;\n"])),(function(e){return e.theme.color.backgroundLight}));var $r,qr,Qr,Xr,Yr,Zr,ei,ni,ti=function(){var e=je(),n=!!e.track,t=e.state===se,r=e.state===ce,i=t?Object(W.jsx)(br,{"aria-label":"Pause",onClick:e.onPause,size:40,children:Object(W.jsx)(or.a,{})}):Object(W.jsx)(br,{"aria-label":"Play",disabled:r||!n,onClick:function(){return e.onResume()},size:40,children:Object(W.jsx)(lr.a,{})});return Object(W.jsxs)(Wr,{children:[Object(W.jsx)(Dr,{playlist:e.playlist,track:e.track}),Object(W.jsx)(Kr,{children:Object(W.jsxs)(Gr,{children:[Object(W.jsxs)(Jr,{children:[Object(W.jsx)(br,{"aria-label":"Previous",disabled:!e.hasPrevious,hideBorder:!0,onClick:e.onPrevious,children:Object(W.jsx)(jr.a,{fontSize:"small"})}),i,Object(W.jsx)(br,{"aria-label":"Next",disabled:!e.hasNext,hideBorder:!0,onClick:e.onNext,children:Object(W.jsx)(dr.a,{fontSize:"small"})})]}),Object(W.jsx)(kr,{})]})}),Object(W.jsx)(Vr,{})]})},ri=s.c.div($r||($r=Object(me.a)(["\n  ","\n  color: ",";\n"])),(function(e){return e.theme.typography.sub}),(function(e){return e.theme.color.disabled})),ii=s.c.div(qr||(qr=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n  justify-content: center;\n"]))),ai=s.c.div(Qr||(Qr=Object(me.a)(["\n  align-items: center;\n  border-top: ;\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: auto 1fr;\n  padding: 10px;\n"]))),ci=s.c.div(Xr||(Xr=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 1fr;\n  padding: 20px;\n"]))),oi=s.c.div(Yr||(Yr=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr auto;\n  margin-top: 60px;\n"]))),si=s.c.div(Zr||(Zr=Object(me.a)(["\n  display: grid;\n  grid-gap: 10px;\n  text-align: center;\n"]))),li=s.c.div(ei||(ei=Object(me.a)(["\n  ","\n  font-weight: 500;\n"])),(function(e){return e.theme.typography.base})),ui=s.c.div(ni||(ni=Object(me.a)(["\n  background-color: ",";\n  bottom: 0;\n  height: ",";\n  position: absolute;\n  width: 100%;\n"])),(function(e){return e.isExpanded?e.theme.color.background:e.theme.color.backgroundLight}),(function(e){return e.isExpanded?"100vh":"auto"}));var di=function(){var e,n,t,i,a,c,o=r.useState(!1),s=Object(f.a)(o,2),l=s[0],u=s[1],d=je(),p=!!d.track,j=d.state===se,b=d.state===ce;if(!p)return null;var h=l?40:30,g=j?Object(W.jsx)(br,{"aria-label":"Pause",hideBackground:!l,hideBorder:!l,onClick:d.onPause,size:h+10,children:Object(W.jsx)(or.a,{})}):Object(W.jsx)(br,{"aria-label":"Play",disabled:b||!p,hideBackground:!l,hideBorder:!l,onClick:function(){return d.onResume()},size:h+10,children:Object(W.jsx)(lr.a,{fontSize:l?"large":"default"})}),O=l?Object(W.jsxs)(ci,{children:[Object(W.jsxs)(oi,{children:[Object(W.jsx)(li,{children:null===(e=d.playlist)||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.title}),Object(W.jsx)(br,{"aria-label":"expand",hideBorder:!0,onClick:function(){return u(!1)},children:Object(W.jsx)(vn.a,{fontSize:l?"default":"small"})})]}),Object(W.jsx)(at,{playlist:d.playlist,size:"100%"}),Object(W.jsxs)(si,{children:[Object(W.jsx)(li,{children:A(null===(i=d.track)||void 0===i?void 0:i.name)}),Object(W.jsx)(ri,{children:null===(a=d.playlist)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.artist})]}),Object(W.jsx)(kr,{}),Object(W.jsxs)(ii,{children:[Object(W.jsx)(br,{"aria-label":"Previous",disabled:!d.hasPrevious,hideBorder:!0,onClick:d.onPrevious,size:h,children:Object(W.jsx)(jr.a,{fontSize:"small"})}),g,Object(W.jsx)(br,{"aria-label":"Next",disabled:!d.hasNext,hideBorder:!0,onClick:d.onNext,size:h,children:Object(W.jsx)(dr.a,{fontSize:l?"default":"small"})})]})]}):Object(W.jsxs)(ai,{children:[g,Object(W.jsx)("div",{onClick:function(){return u(!0)},children:Object(W.jsx)(Dr,{playlist:d.playlist,track:d.track})})]});return Object(W.jsx)(ui,{isExpanded:l,children:O})};var pi,ji,bi,hi=function(){return"small"===ge()?Object(W.jsx)(di,{}):Object(W.jsx)(ti,{})},fi=s.c.main(pi||(pi=Object(me.a)(["\n  background-color: ",";\n  overflow-y: scroll;\n  padding-bottom: 113px;\n"])),(function(e){return e.theme.color.background})),gi=s.c.div(ji||(ji=Object(me.a)(["\n  max-width: 1150px;\n  margin: 0 auto;\n"]))),Oi=s.c.div(bi||(bi=Object(me.a)(["\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  height: 100vh;\n  overflow: hidden;\n"])));var xi=function(e){var n=e.children,t=e.location;return ee().isAuthenticated||t.pathname.includes("/auth")?Object(W.jsxs)(Oi,{children:[Object(W.jsx)(ar,{location:t}),Object(W.jsx)(fi,{children:Object(W.jsx)(gi,{children:n})}),Object(W.jsx)(hi,{})]}):Object(W.jsx)(o.b,{noThrow:!0,to:"auth"})};var vi,mi,yi,ki,wi,Si,Ci=function(e){var n=e.message,t=e.onClick,i=Object(An.a)(e,["message","onClick"]),a=Object(r.useState)(!1),c=Object(f.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){s(!1)}),2e3);return function(){clearTimeout(e)}}),[o]),o?Object(W.jsx)(Te,{onBlur:function(){return s(!1)},onClick:t,children:n||"Are you sure?"}):Object(W.jsx)(Te,Object(g.a)({onClick:function(){s(!0)}},i))},zi=t(87),Pi=t(176),Ei=t.n(Pi),Ii=t(172),Di=t.n(Ii),Ti=t(173),Ai=t.n(Ti),Bi=s.c.div(vi||(vi=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  line-height: 20px;\n  grid-gap: 5px;\n  grid-template-columns: ","px 20px 1fr ",";\n  padding: ","px;\n"])),(function(e){return"small"===e.size?35:40}),(function(e){return"small"===e.size||e.isEditable?"":"auto"}),(function(e){return"small"===e.size?"".concat(e.theme.space.medium,"px ").concat(e.theme.space.small):e.theme.space.medium})),_i=s.c.span(mi||(mi=Object(me.a)(["\n  align-items: center;\n  border: 1px solid transparent;\n  border-radius: 50%;\n  color: ",";\n  display: flex;\n  height: 30px;\n  justify-content: center;\n  line-height: 20px;\n  width: 30px;\n"])),(function(e){return e.isPlaying?"white":"transparent"})),Li=s.c.span(yi||(yi=Object(me.a)(["\n  color: ",";\n  display: grid;\n  font-size: 11px;\n  line-height: 15px;\n  text-align: right;\n"])),(function(e){return e.theme.color.secondary})),Mi=s.c.span(ki||(ki=Object(me.a)(["\n  color: ",";\n"])),(function(e){return e.theme.color.disabled})),Fi=s.c.span(wi||(wi=Object(me.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),Hi=s.c.button(Si||(Si=Object(me.a)(["\n  ","\n  background-color: ",";\n  border: none;\n  border-top: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  outline: none;\n  text-align: left;\n  width: 100%;\n\n  :hover {\n    background-color: ","11;\n\n    #play {\n      border-color: white;\n      color: white;\n    }\n  }\n"])),(function(e){return e.theme.typography.base}),(function(e){return e.theme.color[e.isPlaying?"bgHighlight":"background"]}),(function(e){return e.theme.color.bgHighlight}),(function(e){return e.theme.color[e.isPlaying?"highlight":"inherit"]}),(function(e){return e.theme.color.primary}));var Ni,Ri,Ui=function(e){var n=e.index,t=e.isEditable,r=e.isPlaying,i=e.onClick,a=e.onDelete,c=e.track,o=e.user,s=ge();return Object(W.jsx)(Hi,{isPlaying:r,onClick:t?void 0:function(){return i(c)},children:Object(W.jsxs)(Bi,{isEditable:t,size:s,children:[t?Object(W.jsx)(br,{onClick:function(){return a(c)},children:Object(W.jsx)(Di.a,{fontSize:"small"})}):Object(W.jsx)(_i,{id:"play",isPlaying:r,children:r?Object(W.jsx)(Ai.a,{fontSize:"small"}):Object(W.jsx)(lr.a,{fontSize:"small"})}),Object(W.jsxs)("span",{children:[n,"."]}),Object(W.jsx)(Fi,{children:A(c.name)}),"small"!==s&&!t&&Object(W.jsxs)(Li,{children:[Object(W.jsxs)("span",{children:["Updated"," ",Ct()(new Date(c.server_modified),new Date)]}),o&&Object(W.jsxs)(Mi,{children:["by ",o.name.display_name]})]})]})})},Vi=s.c.div(Ni||(Ni=Object(me.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  position: absolute;\n  right: 10px;\n  top: 0;\n"])),(function(e){return e.theme.color.primary})),Ji=s.c.div(Ri||(Ri=Object(me.a)(["\n  position: relative;\n"])));function Ki(e,n){return e.playingId===n.playingId&&e.tracks.map((function(e){return e.id})).join()===n.tracks.map((function(e){return e.id})).join()}var Gi=i.a.memo((function(e){var n=e.onTrackClick,t=e.onTrackDelete,r=e.playingId,i=e.tracks;return Object(W.jsx)(dn,{getKey:function(e){return e.id},items:i,itemRenderer:function(e,i){return Object(W.jsx)(zi.b,{draggableId:e.id,index:i,children:function(a){return Object(W.jsxs)(Ji,Object(g.a)(Object(g.a)({ref:a.innerRef},a.draggableProps),{},{children:[Object(W.jsx)(Ui,{index:i+1,isEditable:!0,isPlaying:r===e.id,onClick:n,onDelete:t,track:e}),Object(W.jsx)(Vi,Object(g.a)(Object(g.a)({},a.dragHandleProps),{},{children:Object(W.jsx)(Ei.a,{})}))]}))}})}})}),Ki);var Wi,$i,qi,Qi,Xi,Yi=function(e){var n=e.isEditing,t=e.onTrackChange,r=e.onTrackClick,i=(e.onTrackDelete,e.playingId),a=e.tracks,c=e.users;function o(e){t(a.filter((function(n){return n.id!==e.id})))}return n?Object(W.jsx)(zi.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var n=function(e,n,t){var r=Array.from(e),i=r.splice(n,1),a=Object(f.a)(i,1)[0];return r.splice(t,0,a),r}(a,e.source.index,e.destination.index);t(n)}},children:Object(W.jsx)(zi.c,{droppableId:"tracks",children:function(e){return Object(W.jsxs)("div",Object(g.a)(Object(g.a)({ref:e.innerRef},e.droppableProps),{},{children:[Object(W.jsx)(Gi,{onTrackClick:r,onTrackDelete:o,playingId:i,tracks:a}),e.placeholder]}))}})}):Object(W.jsx)(dn,{getKey:function(e){return e.id},items:a,itemRenderer:function(e,n){return Object(W.jsx)(Ui,{index:n+1,isPlaying:i===e.id,onClick:r,track:e,user:c[k(e)]})}})},Zi=s.c.div(Wi||(Wi=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n"]))),ea=s.c.div($i||($i=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 110px auto;\n  justify-content: ",";\n  padding: 20px;\n"])),(function(e){return"small"===e.size?"space-between":"flex-start"})),na=s.c.div(qi||(qi=Object(me.a)(["\n  align-items: ",";\n  display: grid;\n  grid-gap: ","px;\n  grid-template-columns: ",";\n  padding: 20px;\n"])),(function(e){return e.isEditing?"flex-start":"center"}),(function(e){return e.isEditing?40:20}),(function(e){return"small"===e.size?"1fr":"1fr auto"})),ta=s.c.div(Qi||(Qi=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 50px 1fr;\n"]))),ra=s.c.div(Xi||(Xi=Object(me.a)(["\n  display: grid;\n  grid-gap: 20px;\n"])));var ia,aa,ca=function(e){var n,t=e.navigate,i=e.playlistId,a=ie({playlistId:i}),c=a.isLoading,o=a.onDeletePlaylist,s=a.onSavePlaylist,l=a.playlist,u=a.users,d=Object(r.useState)(!1),p=Object(f.a)(d,2),j=p[0],O=p[1],x=Object(r.useState)(!1),v=Object(f.a)(x,2),m=v[0],y=v[1],k=Object(r.useState)(l),w=Object(f.a)(k,2),S=w[0],C=w[1],z=je(),P=ge();function E(){return(E=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(S);case 2:t(R);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){m?(j&&s(S),O(!1),y(!1)):(y(!0),C(l))}return Object(W.jsxs)("div",{children:[m?Object(W.jsxs)(na,{isEditing:m,size:P,children:[Object(W.jsxs)(ra,{children:[Object(W.jsxs)(ta,{children:[Object(W.jsx)(at,{playlist:S}),Object(W.jsx)(Ce,{to:"image",children:"Edit Image"})]}),Object(W.jsx)(Kn,{onChange:function(e){C(Object(g.a)(Object(g.a)({},S),{},{data:Object(g.a)(Object(g.a)({},S.data),{},{title:e})})),O(!0)},title:"Title",value:S.data.title}),Object(W.jsx)(Kn,{onChange:function(e){C(Object(g.a)(Object(g.a)({},S),{},{data:Object(g.a)(Object(g.a)({},S.data),{},{artist:e})})),O(!0)},title:"Artist",value:S.data.artist||""})]}),Object(W.jsx)(Zi,{children:Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(Te,{disabled:!j,onClick:I,children:"Save"}),Object(W.jsx)(Te,{onClick:function(){O(!1),y(!1),C(l)},children:"Cancel"})]})})]}):Object(W.jsxs)(na,{isEditing:m,size:P,children:[Object(W.jsx)(jt,{playlist:S}),Object(W.jsxs)(Zi,{children:[Object(W.jsx)(Te,{onClick:I,children:"Edit"}),Object(W.jsx)(Ci,{message:"Really Delete?",onClick:function(){return E.apply(this,arguments)},children:"Delete"})]})]}),m&&Object(W.jsxs)(ea,{size:P,children:[Object(W.jsx)("h2",{children:"Tracks"}),Object(W.jsx)(Ce,{to:"tracks",children:"Add Tracks"})]}),Object(W.jsx)(fn,{isLoading:c}),Object(W.jsx)(Yi,{isEditing:m,onTrackChange:function(e){C(Object(g.a)(Object(g.a)({},S),{},{data:Object(g.a)(Object(g.a)({},S.data),{},{tracks:e})})),O(!0)},onTrackClick:function(e){z.onPlay({playlistId:i,trackId:e.id})},playingId:null===(n=z.track)||void 0===n?void 0:n.id,tracks:S.data.tracks,users:u})]})},oa=s.c.div(ia||(ia=Object(me.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n"]))),sa=s.c.div(aa||(aa=Object(me.a)(["\n  display: grid;\n  flex-direction: row;\n  grid-gap: 20px;\n  grid-template-columns: ",";\n  padding: 20px;\n"])),(function(e){return"small"===e.size?"1fr":"1fr auto"}));var la=function(e){var n=e.playlistId,t=ie({playlistId:n}),i=t.isLoading,a=t.onSavePlaylist,c=t.playlist,s=Object(r.useState)([]),l=Object(f.a)(s,2),u=l[0],d=l[1],p=Object(r.useState)(!1),j=Object(f.a)(p,2),b=j[0],h=j[1],O=Object(o.d)(),x=ge(),v=V("/playlist/".concat(n));return Object(r.useEffect)((function(){var e;d((null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.tracks)||[])}),[i,c]),Object(W.jsxs)("div",{children:[Object(W.jsxs)(sa,{size:x,children:[Object(W.jsx)(jt,{playlist:c}),Object(W.jsxs)(oa,{children:[Object(W.jsx)(Te,{disabled:!b,onClick:function(){a(Object(g.a)(Object(g.a)({},c),{},{data:Object(g.a)(Object(g.a)({},c.data),{},{tracks:u})})),O(v)},children:"Save"}),Object(W.jsx)(Ce,{to:v,children:"Cancel"})]})]}),Object(W.jsx)(Tn,{onSelectionChange:function(e){d(e),b||h(!0)},selectedEntries:u,showFiles:!0})]})},ua=Object(l.a)({palette:{primary:p.a}});function da(){var e=window.location.href.replace("/auth","").replace(/\/$/,"");return"".concat(e,"/auth")}var pa=function(){return Object(W.jsx)(K,{children:Object(W.jsx)(u.a,{theme:ua,children:Object(W.jsx)(s.a,{theme:ke,children:Object(W.jsx)(q,{children:Object(W.jsx)(Z,{authUrl:da(),children:Object(W.jsx)(pe,{children:Object(W.jsx)(o.c,{basepath:R,children:Object(W.jsxs)(xi,{path:"/",children:[Object(W.jsx)(De,{path:"auth"}),Object(W.jsx)(Yn,{path:"new"}),Object(W.jsx)(ca,{path:"playlist/:playlistId"}),Object(W.jsx)(wt,{path:"playlist/:playlistId/image"}),Object(W.jsx)(la,{path:"playlist/:playlistId/tracks"}),Object(W.jsx)(Ht,{path:"/"})]})})})})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(W.jsx)(pa,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[319,1,2]]]);
//# sourceMappingURL=main.afd8930a.chunk.js.map