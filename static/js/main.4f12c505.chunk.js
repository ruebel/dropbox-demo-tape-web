(this["webpackJsonpdropbox-demo-tape-web"]=this["webpackJsonpdropbox-demo-tape-web"]||[]).push([[0],{188:function(e,n,t){},199:function(e,n){},201:function(e,n){},234:function(e,n){},235:function(e,n){},319:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),a=t(11),c=t.n(a),o=(t(188),t(27)),s=t(3),l=t(178),u=t(349),d=t(177),p=t.n(d),j=t(7),b=t.n(j),h=t(12),f=t(6),O=t(5),g=t(50),x=t(35);var v=function(e,n){var t=Object(r.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(r){return console.log(r),n}})),i=Object(f.a)(t,2),a=i[0],c=i[1];return[a,function(n){try{var t=n instanceof Function?n(a):n;c(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log(r)}}]},m=t(1),y=Object(r.createContext)();function k(e){var n=e.children,t=e.initialState,i=void 0===t?{}:t,a=v("ddt",i),c=Object(f.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(o),u=Object(f.a)(l,2),d=u[0],p=u[1];Object(r.useEffect)((function(){s(d)}),[d]);var j={getValue:function(e){return d[e]},setValue:function(e,n){p((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(x.a)({},e,n))}))},resetCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p((function(){return Object(O.a)(Object(O.a)({},i),e)}))},state:d};return Object(m.jsx)(y.Provider,{value:j,children:n})}function w(){var e=Object(r.useContext)(y);if(void 0===e)throw new Error("useCache must be used within a CacheProvider");return e}var S=t(109);var C=function(e){var n=Object.create(null);return"string"!==typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),i=t.length>0?t.join("="):void 0;r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),void 0===n[r]?n[r]=i:Array.isArray(n[r])?n[r].push(i):n[r]=[n[r],i]})),n):n},P=r.createContext(),z="ie394xarjsfdxr0";function I(e){var n,t=e.authUrl,i=e.children,a=w(),c=r.useState(a.getValue("currentUser")),o=Object(f.a)(c,2),s=o[0],l=o[1],u=r.useState(null),d=Object(f.a)(u,2),p=d[0],j=d[1],O=r.useState(a.getValue("accessToken")),g=Object(f.a)(O,2),x=g[0],v=g[1],y=r.useState(null),k=Object(f.a)(y,2),I=k[0],E=k[1],D=r.useState(null),T=Object(f.a)(D,2),A=T[0],L=T[1];r.useEffect((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new S.Dropbox({accessToken:x,clientId:z}),L(n),e.next=4,n.auth.getAuthenticationUrl(t);case 4:(r=e.sent)?E(r):j("Invalid Dropbox Id");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.useEffect((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.usersGetCurrentAccount();case 2:n=e.sent,l(n),a.setValue("currentUser",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x&&!s&&A&&function(){e.apply(this,arguments)}()}),[x,A]);var _={accessToken:x,authHref:I,currentUser:s,dbx:A,error:p,isAuthenticated:null===A||void 0===A||null===(n=A.auth)||void 0===n?void 0:n.accessToken,onLogout:function(){v(""),l(null),L(null),a.resetCache({clientId:z})},parseAcessToken:function(e){var n=C(window.location.hash).access_token;L(new S.Dropbox({accessToken:n,clientId:z})),a.setValue("accessToken",n),v(n)}};return Object(m.jsx)(P.Provider,{value:_,children:i})}function E(){var e=r.useContext(P);if(void 0===e)throw new Error("useCache must be used within a DropboxContext");return e}var D=function(){var e=w(),n=E(),t=n.dbx,i=n.isAuthenticated,a=Object(r.useState)(!1),c=Object(f.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(e.getValue("users")||{}),u=Object(f.a)(l,2),d=u[0],p=u[1];function j(){return(j=Object(h.a)(b.a.mark((function e(n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=n.filter((function(e){return!d[e]}))).length>0&&t&&i)){e.next=16;break}return s(!0),e.prev=3,e.next=6,t.usersGetAccountBatch({account_ids:r});case 6:return a=e.sent,g(c=a.reduce((function(e,n){return Object(O.a)(Object(O.a)({},e),{},Object(x.a)({},n.account_id,n))}),d)),s(!1),e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:return e.abrupt("return",d);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function g(n){p(n),e.setValue("users",n)}return{data:d,isLoading:o,fetchUsers:function(e){return j.apply(this,arguments)}}};function T(e){return e.meta.id}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.substring(0,e.lastIndexOf("."))}function L(e,n,t,r){return e.map((function(e){return t(e)===n?r:e}))}function _(e,n,t){return B.apply(this,arguments)}function B(){return(B=Object(h.a)(b.a.mark((function e(n,t,r){var i,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.filesUpload({autorename:!1,contents:JSON.stringify(t),mode:{".tag":"overwrite"},mute:!0,path:r});case 2:return i=e.sent,a=i.result,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(".").pop()}function F(e){var n;return null===e||void 0===e||null===(n=e.sharing_info)||void 0===n?void 0:n.modified_by}function H(e){return Object(g.a)(new Set(e.map(F))).filter(Boolean)}function N(e){return["mp3","m4a","ovw","wav"].includes(M(e))}function R(e){return"file"===e[".tag"]}function U(e){return"folder"===e[".tag"]}function V(e){return U(e)||R(e)&&N(e.name)}function J(e){return U(e)||R(e)&&(n=e.name,["png","jpg","jpeg"].includes(M(n)));var n}function K(e){return Object(O.a)(Object(O.a)({},e),{},{isAudioFile:N(e.name),isFolder:"folder"===e[".tag"],isPlaylist:(n=e.name,"mix"===M(n)),path:e.path_display,type:e[".tag"],user:F(e)});var n}function G(e){return W.apply(this,arguments)}function W(){return(W=Object(h.a)(b.a.mark((function e(n){var t,r,i,a,c,o,s,l,u,d=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>1&&void 0!==d[1]?d[1]:"",r=d.length>2?d[2]:void 0,i=d.length>3?d[3]:void 0,e.next=5,n.filesListFolder({path:t});case 5:return a=e.sent,c=a.cursor,o=a.entries,s=a.hasMore,l=r?V:i?J:U,u={cursor:c,data:o.filter(l).map(K),hasMore:s,path:t},e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e){var n=e.forceRefresh,t=w(),i=E(),a=i.dbx,c=i.isAuthenticated,o=Object(r.useState)(!1),s=Object(f.a)(o,2),l=s[0],u=s[1],d=Object(r.useState)(t.getValue("playlists")||[]),p=Object(f.a)(d,2),j=p[0],x=p[1],v=D().fetchUsers;function m(){return(m=Object(h.a)(b.a.mark((function e(n,t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(a,t,n);case 2:return r=e.sent,C({data:t,meta:r},!0),e.abrupt("return",r.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(h.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,a.filesDelete({path:n.meta.path_lower});case 3:r=j.filter((function(e){return e.meta.id!==n.meta.id})),x(r),t.setValue("playlists",r),u(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(h.a)(b.a.mark((function e(n){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(n),e.next=3,_(a,n.data,n.meta.path_lower);case 3:t=e.sent,C(Object(O.a)(Object(O.a)({},n),{},{meta:t}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.sort((function(e,n){return e.data.title.localeCompare(n.data.title)}));x(n),t.setValue("playlists",n)}function C(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n?[].concat(Object(g.a)(j),[e]):L(j,T(e),T,e);S(t)}return Object(r.useEffect)((function(){if(c&&a&&!l&&(n||0===j.length)){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n,t,r,i,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.filesSearch({path:"",query:".mix"});case 2:return t=e.sent,e.next=5,Promise.all(null===t||void 0===t||null===(n=t.result)||void 0===n?void 0:n.matches.map((function(e){return a.filesDownload({path:e.metadata.path_display})})));case 5:return r=e.sent,e.next=8,Promise.all(r.map((function(e){return new Promise((function(n){var t=new FileReader;t.addEventListener("loadend",(function(t){var r=t.srcElement.result,i=JSON.parse(r);n({data:i,meta:e.result})})),t.readAsText(e.result.fileBlob)}))})));case 8:return i=e.sent,c=H(r),e.next=12,v(c);case 12:o=e.sent,S((i||[]).map((function(e){return Object(O.a)(Object(O.a)({},e),{},{meta:Object(O.a)(Object(O.a)({},e.meta),{},{user:o[F(e.meta)]})})}))),u(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u(!0),function(){e.apply(this,arguments)}()}}),[a,c]),{data:j,isLoading:l,onCreatePlaylist:function(e,n){return m.apply(this,arguments)},onDeletePlaylist:function(e){return y.apply(this,arguments)},onSavePlaylist:function(e){return k.apply(this,arguments)}}};var q=function(e){var n=e.playlistId,t=E(),i=t.dbx,a=t.isAuthenticated,c=$({dbx:i,isAuthenticated:a}),o=c.data,s=c.isLoading,l=c.onDeletePlaylist,u=c.onSavePlaylist,d=D().fetchUsers,p=Object(r.useState)({}),j=Object(f.a)(p,2),O=j[0],g=j[1],x=o.find((function(e){return e.meta.id===n}));function v(){return(v=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return",l(x));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e;function n(){return(n=Object(h.a)(b.a.mark((function e(n){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n);case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.tracks){var t=H(x.data.tracks);t.length>0&&function(e){n.apply(this,arguments)}(t)}}),[x]),{data:x,isLoading:s,onDelete:function(){return v.apply(this,arguments)},onSave:function(e){u(e)},users:O}},Q="mediaSession"in navigator,X=[{src:"".concat("/dropbox-demo-tape-web","/android-icon-96x96.png"),sizes:"96x96",type:"image/png"},{src:"".concat("/dropbox-demo-tape-web","/android-icon-144x144.png"),sizes:"144x144",type:"image/png"},{src:"".concat("/dropbox-demo-tape-web","/android-icon-180x180.png"),sizes:"180x180",type:"image/png"}];var Y=function(){return{setDuration:function(e){var n=e.duration,t=e.position,r=void 0===t?0:t,i=e.playbackRate,a=void 0===i?1:i;Q&&"setPositionState"in navigator.mediaSession&&window.navigator.mediaSession.setPositionState({duration:n,position:r,playbackRate:a})},setHandlers:function(e){var n=e.onNext,t=e.onPause,r=e.onPlay,i=e.onPrevious,a=e.onSeek;if(Q){try{navigator.mediaSession.setActionHandler("play",r)}catch(c){}try{navigator.mediaSession.setActionHandler("pause",t)}catch(c){}try{navigator.mediaSession.setActionHandler("nexttrack",n)}catch(c){}try{navigator.mediaSession.setActionHandler("previoustrack",i)}catch(c){}try{navigator.mediaSession.setActionHandler("seekbackward",(function(){return a(void 0,!1)}))}catch(c){}try{navigator.mediaSession.setActionHandler("seekforward",(function(){return a(void 0,!0)}))}catch(c){}try{navigator.mediaSession.setActionHandler("seekto",(function(e){var n=e.seekTime;return a(n)}))}catch(c){}}},setState:function(e){Q&&(navigator.mediaSession.playbackState=e)},setTrack:function(e){var n=e.album,t=e.artist,r=void 0===t?"Demo Tape":t,i=e.artwork,a=void 0===i?X:i,c=e.title;Q&&(navigator.mediaSession.metadata=new MediaMetadata({title:c,artist:r,album:n,artwork:a}))}}},Z=Object(r.createContext)(),ee="loading",ne="paused",te="playing",re="stopped",ie={duration:0,isMuted:!1,playlistId:null,position:0,trackId:null,state:re,volume:1};function ae(e,n){switch(n.type){case"duration":return Object(O.a)(Object(O.a)({},e),n.payload);case"loaded":return"loading"===e.state?Object(O.a)(Object(O.a)({},e),{},{position:0,state:te}):e;case"mute":return Object(O.a)(Object(O.a)({},e),{},{isMuted:!0});case"pause":return e.state===te?Object(O.a)(Object(O.a)({},e),{},{state:ne}):e;case"play":return Object(O.a)(Object(O.a)(Object(O.a)({},e),n.payload),{},{state:ee});case"position":return Object(O.a)(Object(O.a)({},e),n.payload);case"resume":return Object(O.a)(Object(O.a)({},e),{},{state:te});case"stop":return Object(O.a)(Object(O.a)({},e),{},{position:0,state:re});case"tick":return Object(O.a)(Object(O.a)({},e),{},{position:e.position+1e3});case"unmute":return Object(O.a)(Object(O.a)({},e),{},{isMuted:!1});case"volume":return Object(O.a)(Object(O.a)(Object(O.a)({},e),n.payload),{},{isMuted:0===n.payload.volume});default:throw new Error}}function ce(e){var n=e.children,t=e.initialState,i=void 0===t?{}:t,a=Object(r.useReducer)(ae,Object(O.a)(Object(O.a)({},ie),i)),c=Object(f.a)(a,2),o=c[0],s=o.duration,l=o.isMuted,u=o.playlistId,d=o.position,p=o.state,j=o.trackId,g=o.volume,x=c[1],y=Object(r.useRef)(),k=E().dbx,w=q({playlistId:u}),S=Y(),C=v("playlistImages"),P=Object(f.a)(C,1)[0],z=void 0===P?{}:P,I=Object(r.useMemo)((function(){var e,n,t=j?null===w||void 0===w||null===(e=w.data)||void 0===e?void 0:e.data.tracks.findIndex((function(e){return e.id===j})):(null===w||void 0===w||null===(n=w.data)||void 0===n?void 0:n.data)?0:-1,r=t>=0?w.data.data.tracks[t]:null,i=!!r&&t<w.data.data.tracks.length-1,a=!!r&&t>0;if(r){var c,o,s,l,u,d,p,b,h,f=z[null===w||void 0===w||null===(c=w.data)||void 0===c||null===(o=c.data)||void 0===o||null===(s=o.image)||void 0===s?void 0:s.id];S.setTrack({title:A(null===r||void 0===r?void 0:r.name),artist:(null===w||void 0===w||null===(l=w.data)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.artist)||(null===w||void 0===w||null===(d=w.data)||void 0===d||null===(p=d.data)||void 0===p?void 0:p.title),album:null===w||void 0===w||null===(b=w.data)||void 0===b||null===(h=b.data)||void 0===h?void 0:h.title,artwork:f?[{src:f,sizes:"50x50",type:"image/png"}]:void 0})}return{hasNext:i,hasPrevious:a,track:r,trackIndex:t}}),[j,u]),D=I.hasNext,T=I.hasPrevious,L=I.track,_=I.trackIndex;function B(){D&&x({type:"play",payload:{playlistId:u,trackId:w.data.data.tracks[_+1].id}})}function M(){T&&x({type:"play",payload:{playlistId:u,trackId:w.data.data.tracks[_-1].id}})}function F(){p!==ne&&x({type:"pause"})}function H(){p===ne&&x({type:"resume"})}function N(e,n){if(L){var t=y.current,r=e;void 0===e&&(r=d+(n?1e4:-1e4)),t.currentTime=r/1e3,S.setDuration({duration:s,position:r}),x({type:"position",payload:{position:r}})}}function R(){p!==re&&x({type:"stop"})}Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n,t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.current){e.next=3;break}return e.abrupt("return");case 3:if(!L||p!==ee){e.next=12;break}return e.next=6,k.filesGetTemporaryLink({path:L.path_lower});case 6:r=e.sent,n.setAttribute("src",null===r||void 0===r||null===(t=r.result)||void 0===t?void 0:t.link),n.play(),S.setState("playing"),e.next=13;break;case 12:L&&p===te?(n.play(),S.setState("playing")):p===ne?(n.pause(),S.setState("paused")):p===re&&(n.pause(),S.setState("none"),n.currentTime=0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p,j,u]),Object(r.useEffect)((function(){if("playing"===p){var e=setInterval((function(){x({type:"tick"})}),1e3);return function(){return clearInterval(e)}}})),S.setHandlers({onNext:B,onPrevious:M,onPause:F,onPlay:H,onSeek:N});var U={duration:s,hasNext:D,hasPrevious:T,isMuted:l,onMute:function(){x({type:"mute"});var e=y.current;e&&(e.muted=!0)},onNext:B,onPause:F,onPlay:function(e){var n=e.playlistId,t=e.trackId;x({type:"play",payload:{playlistId:n,trackId:t}})},onPrevious:M,onResume:H,onSeek:N,onStop:R,onUnmute:function(){x({type:"unmute"});var e=y.current;e&&(e.muted=!1)},onVolumeChange:function(e){x({type:"volume",payload:{volume:e}});var n=y.current;n&&(n.volume=e,n.muted=0===e)},playlist:w,position:d,state:p,track:L,volume:g};return Object(m.jsxs)(Z.Provider,{value:U,children:[n,(L||p!==re)&&Object(m.jsx)("audio",{onDurationChange:function(e){var n=y.current;n&&(S.setDuration({duration:n.duration}),x({type:"duration",payload:{duration:1e3*n.duration}}))},onEnded:function(e){D?B():R()},onPlay:function(e){x({type:"loaded"})},onProgress:function(e){var n=y.current;n&&x({type:"position",payload:{position:1e3*n.currentTime}})},ref:y})]})}function oe(){var e=Object(r.useContext)(Z);if(void 0===e)throw new Error("useAudio must be used within a AudioProvider");return e}var se=t(158),le=t(159),ue=t(180),de=t(179),pe="/dropbox-demo-tape-web";function je(e){return"".concat(pe).concat(e)}var be,he,fe,Oe=function(e){Object(ue.a)(t,e);var n=Object(de.a)(t);function t(){return Object(se.a)(this,t),n.apply(this,arguments)}return Object(le.a)(t,[{key:"componentDidCatch",value:function(e,n){!function(e,n){var t={env:"production",error:e.toString(),info:JSON.stringify(n),url:window.location.href,timestamp:new Date};fetch("https://hooks.zapier.com/hooks/catch/3498170/os51faz",{body:JSON.stringify(t),method:"POST"})}(e,n)}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component),ge=t(4),xe={background:"#242A31",backgroundLight:"#2D323C",disabled:"#656565",error:"#E7777F",inherit:"inherit",primary:"#D2D2D2",secondary:"#b3b3b3",success:"#A1CA7E",transparent:"transparent",white:"#FFFFFF"},ve={color:Object(O.a)(Object(O.a)({},xe),{},{highlight:"#5EB1BF",bgHighlight:xe.primary+"11"}),typography:{base:Object(s.b)(be||(be=Object(ge.a)(["\n      font-size: 16px;\n    "]))),sub:Object(s.b)(he||(he=Object(ge.a)(["\n      font-size: 14px;\n      font-weight: 400;\n    "])))},space:{small:5,medium:10,large:20},transition:"all 250ms ease-in"},me=s.c.a(fe||(fe=Object(ge.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: 10px;\n  border: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: 14px;\n  justify-content: center;\n  padding: 10px 20px;\n  text-decoration: none;\n  text-transform: uppercase;\n  transition: ",";\n\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.color.background}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.white}),(function(e){return e.theme.transition}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.background}),(function(e){return e.disabled?"\n  color: ".concat(e.theme.color.disabled,";\n  cursor: unset;\n  border-color: ").concat(e.theme.color.disabled,";\n\n  :hover {\n    background-color: ").concat(e.theme.color.background,";\n    color: ").concat(e.theme.color.disabled,";\n  }\n"):""}));var ye,ke=function(e){return Object(m.jsx)(me,Object(O.a)({as:e.to?o.a:void 0},e))},we=s.c.div(ye||(ye=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 20px;\n  justify-content: center;\n  padding: 40px;\n"])));var Se,Ce,Pe,ze=function(){var e=E(),n=e.authHref,t=e.isAuthenticated,i=e.parseAcessToken;return!t&&window.location.hash.includes("access_token")&&i(),t?Object(m.jsx)(o.b,{noThrow:!0,to:pe}):Object(m.jsxs)(we,{children:[Object(m.jsx)("h1",{children:"Welcome"}),Object(m.jsx)(r.Fragment,{children:Object(m.jsx)(ke,{href:n,children:"Authenticate With Dropbox"})})]})},Ie=s.c.button(Se||(Se=Object(ge.a)(["\n  background-color: ",";\n  border-radius: 10px;\n  border: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: 14px;\n  justify-content: center;\n  outline: none;\n  padding: 10px 20px;\n  text-transform: uppercase;\n\n  transition: ",";\n\n  :hover,\n  :focus {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.color.background}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.white}),(function(e){return e.theme.transition}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.background}),(function(e){return e.disabled?"\n    color: ".concat(e.theme.color.disabled,";\n    cursor: unset;\n    border-color: ").concat(e.theme.color.disabled,";\n\n    :hover, :focus {\n      background-color: ").concat(e.theme.color.background,";\n      color: ").concat(e.theme.color.disabled,";\n    }\n  "):""})),Ee=t(163),De=t.n(Ee),Te=s.c.button(Ce||(Ce=Object(ge.a)(["\n  background-color: transparent;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  padding: 10px;\n  outline: none;\n\n  :hover,\n  :focus {\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.highlight})),Ae=function(e){var n=e.name,t=void 0===n?"Home":n,r=e.onClick,i=e.path;return Object(m.jsx)(Te,{onClick:function(){return r(i)},children:t})},Le=s.c.div(Pe||(Pe=Object(ge.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  padding-left: 10px;\n"])));var _e,Be,Me,Fe,He=function(e){var n=e.onClick,t=(e.onSort,e.path),i=(void 0===t?"":t).split("/").map((function(e,t,i){var a=i.slice(0,t+1).join("/");return Object(m.jsxs)(r.Fragment,{children:[0!==t&&Object(m.jsx)("span",{children:"/"}),Object(m.jsx)(Ae,{name:e||"Home",onClick:n,path:a})]},t)}));return Object(m.jsxs)(Le,{children:[Object(m.jsx)(De.a,{})," ",i]})},Ne=t(167),Re=t.n(Ne),Ue=t(166),Ve=t.n(Ue),Je=t(164),Ke=t.n(Je),Ge=t(165),We=t.n(Ge),$e=s.c.div(_e||(_e=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 20px 1fr 0.5fr 0.5fr;\n"]))),qe=s.c.span(Be||(Be=Object(ge.a)(["\n  ","\n"])),(function(e){return e.theme.typography.base})),Qe=s.c.span(Me||(Me=Object(ge.a)(["\n  ","\n"])),(function(e){return e.theme.typography.sub})),Xe=s.c.button(Fe||(Fe=Object(ge.a)(["\n  background-color: ",";\n  border: none;\n  border-top: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  height: 61px;\n  outline: none;\n  padding: ","px ","px;\n  text-align: left;\n  width: 100%;\n\n  :hover {\n    background-color: ","11;\n  }\n"])),(function(e){return e.theme.color[e.isSelected?"bgHighlight":"background"]}),(function(e){return e.theme.color.bgHighlight}),(function(e){return e.theme.color[e.isSelected?"highlight":"inherit"]}),(function(e){return e.theme.space.medium}),(function(e){return e.theme.space.large}),(function(e){return e.theme.color.primary}));var Ye,Ze,en=function(e){var n,t,r=e.entry,i=e.onClick,a=e.isSelected,c=void 0!==a&&a,o=c?Ke.a:r.isFolder?We.a:Ve.a;return Object(m.jsx)(Xe,{isSelected:c,onClick:function(){return i(r)},children:Object(m.jsxs)($e,{children:[Object(m.jsx)(o,{}),Object(m.jsx)(qe,{children:r.name}),"file"===r.type&&Object(m.jsxs)(Qe,{children:[Re()(new Date(r.server_modified))," ago"]}),"file"===r.type&&Object(m.jsx)(Qe,{children:null===(n=r.user)||void 0===n||null===(t=n.name)||void 0===t?void 0:t.display_name})]})})},nn=function(e,n){return n},tn=s.c.div(Ye||(Ye=Object(ge.a)(["\n  ","\n  color: ",";\n  font-size: 18px;\n  padding: 20px;\n"])),(function(e){return e.theme.typography.base}),(function(e){return e.theme.color.secondary})),rn=s.c.ul(Ze||(Ze=Object(ge.a)(["\n  list-style-type: none;\n  margin: 0;\n  margin-block-end: 0;\n  margin-block-start: 0;\n  padding: 0;\n  padding-inline-start: 0;\n  -webkit-margin-start: 0;\n  -webkit-padding-start: 0;\n  ","\n"])),(function(e){return(n=e.gap)?"\n        display: grid;\n        grid-gap: ".concat(n,"px;\n      "):"";var n}));function an(e){var n=e.emptyMessage,t=e.isLoading,r=e.itemRenderer,i=e.items,a=e.gap,c=e.getKey,o=void 0===c?nn:c;if(!t&&0===i.length&&n)return Object(m.jsx)(tn,{children:n});var s=i.map((function(e,n){return Object(m.jsx)("li",{children:r(e,n)},o(e,n))}));return Object(m.jsx)(rn,{gap:a,children:s})}an.defaultProps={getKey:nn};var cn,on,sn=an,ln=t(348),un=s.c.div(cn||(cn=Object(ge.a)(["\n  height: ",";\n  width: ",";\n"])),(function(e){return e.height}),(function(e){return e.width})),dn=s.c.div(on||(on=Object(ge.a)(["\n  margin-bottom: -4px;\n"])));var pn,jn=function(e){var n=e.isLoading;return Object(m.jsx)(dn,{children:n?Object(m.jsx)(ln.a,{}):Object(m.jsx)(un,{height:"4px"})})},bn=t(168),hn=t.n(bn),fn=t(80),On=t.n(fn),gn=s.c.button(pn||(pn=Object(ge.a)(["\n  align-items: center;\n  background-color: transparent;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  font-size: 14px;\n  font-weight: 700;\n  line-height: 27px;\n  margin: 0;\n  outline: none;\n  padding: 0;\n\n  :hover,\n  :focus {\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.highlight}));var xn=function(e){var n=e.children,t=e.onClick,r=e.sortDir,i="asc"===r?On.a:"desc"===r?hn.a:null;return Object(m.jsxs)(gn,{onClick:t,children:[Object(m.jsx)("span",{children:n}),i&&Object(m.jsx)(i,{})]})};var vn,mn,yn=function(e){var n=e.folder,t=void 0===n?"":n,i=e.showFiles,a=void 0!==i&&i,c=e.showImages,o=void 0!==c&&c,s=e.sortBy,l=void 0===s?"":s,u=e.sortDir,d=void 0===u?"":u,p=E().dbx,j=Object(r.useState)({}),g=Object(f.a)(j,2),v=g[0],m=g[1],y=Object(r.useState)(!1),k=Object(f.a)(y,2),w=k[0],S=k[1],C=D().fetchUsers;Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var n,r,i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,G(p,t,a,o);case 3:return n=e.sent,r=H(n.data),e.next=7,C(r);case 7:i=e.sent,c=Object(O.a)(Object(O.a)({},n),{},{data:n.data.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{user:i[F(e)]})}))}),m(Object(x.a)({},t,c)),S(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p&&function(){e.apply(this,arguments)}()}),[p,t]);var P=v[t]||{},z=P.cursor,I=P.data,T=void 0===I?[]:I,A=P.hasMore,L=T;return l&&d&&("name"===l?L=T.sort(function(e){var n="asc"===e?-1:1;return function(e,t){return(e.type===t.type||"folder"!==e.type&&"folder"!==t.type?e.name.localeCompare(t.name):"folder"===t.type?1:-1)*n}}(d)):"modified"===l?L=T.sort(function(e){var n="asc"===e?-1:1;return function(e,t){return(e.type===t.type||"folder"!==e.type&&"folder"!==t.type?new Date(t.server_modified)-new Date(e.server_modified):"folder"===t.type?1:-1)*n}}(d)):"modifiedBy"===l&&(L=T.sort(function(e){var n="asc"===e?-1:1;return function(e,t){var r,i,a,c;return(e.type===t.type||"folder"!==e.type&&"folder"!==t.type?null===(r=e.user)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.display_name.localeCompare(null===(a=t.user)||void 0===a||null===(c=a.name)||void 0===c?void 0:c.display_name):"folder"===t.type?1:-1)*n}}(d)))),{cursor:z,files:L,folder:t,hasMore:A,isLoading:w}},kn=s.c.div(vn||(vn=Object(ge.a)(["\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 20px 1fr 0.5fr 0.5fr;\n  padding: 0 20px;\n"]))),wn=s.c.div(mn||(mn=Object(ge.a)(["\n  display: grid;\n"])));var Sn,Cn,Pn,zn,In,En=function(e){var n=e.onPathChange,t=e.onSelectionChange,i=e.selectedEntries,a=void 0===i?[]:i,c=e.singleSelection,o=void 0!==c&&c,s=e.showFiles,l=void 0!==s&&s,u=e.showImages,d=void 0!==u&&u,p=Object(r.useState)(""),j=Object(f.a)(p,2),b=j[0],h=j[1],O=Object(r.useState)(""),x=Object(f.a)(O,2),v=x[0],y=x[1],k=Object(r.useState)(""),w=Object(f.a)(k,2),S=w[0],C=w[1],P=yn({folder:b,showFiles:l,showImages:d,sortBy:v,sortDir:S}),z=P.files,I=P.isLoading;function E(e){"folder"===e.type?(h(e.path),n&&n(e.path)):(l||d)&&(o?a.some((function(n){return n.id===e.id}))?t([null]):t([e]):a.some((function(n){return n.id===e.id}))?t(a.filter((function(n){return n.id!==e.id}))):t([].concat(Object(g.a)(a),[e])))}function D(e){e!==v?(y(e),C("desc")):"desc"===S?C("asc"):(C(""),y(""))}return Object(m.jsxs)(wn,{children:[Object(m.jsx)(He,{onClick:h,path:b}),Object(m.jsx)(un,{height:"10px"}),Object(m.jsxs)(kn,{children:[Object(m.jsx)("span",{}),Object(m.jsx)(xn,{onClick:function(){return D("name")},sortDir:"name"===v?S:null,children:"Name"}),Object(m.jsx)(xn,{onClick:function(){return D("modified")},sortDir:"modified"===v?S:null,children:"Modified"}),Object(m.jsx)(xn,{onClick:function(){return D("modifiedBy")},sortDir:"modifiedBy"===v?S:null,children:"Modified By"})]}),Object(m.jsx)(jn,{isLoading:I}),Object(m.jsx)(sn,{emptyMessage:"There are no files here",isLoading:I,items:z,itemRenderer:function(e){return Object(m.jsx)(en,{entry:e,isSelected:a.some((function(n){return n.path_lower===e.path_lower})),onClick:E})}})]})},Dn=t(86),Tn=Object(s.b)(Sn||(Sn=Object(ge.a)(["\n  border-color: ",";\n  color: ",";\n"])),(function(e){return e.theme.color.error}),(function(e){return e.theme.color.error})),An=s.c.span(Cn||(Cn=Object(ge.a)(["\n  ","\n  font-size: 14px;\n  font-weight: 700;\n"])),Tn),Ln=s.c.input(Pn||(Pn=Object(ge.a)(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 10px;\n  color: inherit;\n  font-size: 16px;\n  line-height: 37px;\n  outline: none;\n  padding: 2px 15px;\n  width: 100%;\n"])),(function(e){return e.theme.color.background}),(function(e){return e.theme.color.primary})),_n=s.c.div(zn||(zn=Object(ge.a)(["\n  background-color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  left: 10px;\n  padding: 0 5px;\n  position: absolute;\n  top: -6px;\n"])),(function(e){return e.theme.color.background})),Bn=s.c.label(In||(In=Object(ge.a)(["\n  color: ",";\n  position: relative;\n\n  :focus-within {\n    color: ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.color.secondary}),(function(e){return e.theme.color.white}),(function(e){return e.hasError?Tn:""}));var Mn,Fn,Hn,Nn,Rn,Un,Vn=function(e){var n=e.error,t=e.hasError,r=e.onChange,i=e.title,a=e.value,c=Object(Dn.a)(e,["error","hasError","onChange","title","value"]);return Object(m.jsxs)(Bn,{hasError:t,children:[Object(m.jsx)(Ln,Object(O.a)(Object(O.a)({},c),{},{hasError:t,onChange:function(e){return r(e.target.value)},type:"text",value:a})),Object(m.jsx)(_n,{children:i}),n&&Object(m.jsx)(An,{children:n})]})},Jn=s.c.div(Mn||(Mn=Object(ge.a)(["\n  overflow-y: scroll;\n  height: 470px;\n"]))),Kn=s.c.div(Fn||(Fn=Object(ge.a)(["\n  background-color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  left: 10px;\n  padding: 0 5px;\n  position: absolute;\n  top: -6px;\n"])),(function(e){return e.theme.color.background})),Gn=s.c.div(Hn||(Hn=Object(ge.a)(["\n  border: 1px solid ",";\n  border-radius: 10px;\n  max-height: 480px;\n  padding: 5px;\n  position: relative;\n"])),(function(e){return e.theme.color.primary})),Wn=s.c.div(Nn||(Nn=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr auto auto;\n  grid-gap: 20px;\n  margin-bottom: 20px;\n"]))),$n=s.c.h2(Rn||(Rn=Object(ge.a)([""]))),qn=s.c.form(Un||(Un=Object(ge.a)(["\n  display: grid;\n  grid-gap: 20px;\n  padding: 20px;\n"])));var Qn=function(e){var n=e.navigate,t=Object(r.useState)(""),i=Object(f.a)(t,2),a=i[0],c=i[1],o=Object(r.useState)(""),s=Object(f.a)(o,2),l=s[0],u=s[1],d=Object(r.useState)("/"),p=Object(f.a)(d,2),j=p[0],O=p[1],g=$({}).onCreatePlaylist,x=!!a&&!!l&&!!j;function v(){return(v=Object(h.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g("".concat(j,"/").concat(l,".mix"),{artist:a,title:l,tracks:[]});case 3:return r=e.sent,n(je("/playlist/".concat(r))),e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)(qn,{onSubmit:x?function(e){return v.apply(this,arguments)}:void 0,children:[Object(m.jsxs)(Wn,{children:[Object(m.jsx)($n,{children:"Add Playlist"}),Object(m.jsx)(Ie,{disabled:!x,type:"submit",children:"Save"}),Object(m.jsx)(ke,{to:pe,children:"Cancel"})]}),Object(m.jsx)(Vn,{onChange:u,title:"Title",value:l}),Object(m.jsx)(Vn,{onChange:c,title:"Artist",value:a}),Object(m.jsxs)(Gn,{children:[Object(m.jsx)(Jn,{children:Object(m.jsx)(En,{onPathChange:O})}),Object(m.jsx)(Kn,{children:"Location"})]})]})},Xn={none:"none",fetched:"fetched",error:"error"};var Yn,Zn,et,nt,tt=function(e){var n,t,i,a=e.playlist,c=e.size,o=void 0===c?50:c,s=Object(r.useState)(),l=Object(f.a)(s,2),u=l[0],d=l[1],p=Object(r.useState)(Xn.none),j=Object(f.a)(p,2),g=j[0],y=j[1],k=E().dbx,w=v("playlistImages"),S=Object(f.a)(w,2),C=S[0],P=void 0===C?{}:C,z=S[1],I=null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.image)||void 0===t?void 0:t.id;return Object(r.useEffect)((function(){if(!u||g===Xn.error){var e=P[I];g!==Xn.error&&e?d(e):function(){n.apply(this,arguments)}()}function n(){return(n=Object(h.a)(b.a.mark((function e(){var n,t,r,i,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.image)){e.next=7;break}return e.next=3,k.filesGetTemporaryLink({path:null===(t=a.data.image)||void 0===t?void 0:t.path_lower});case 3:o=e.sent,d(null===o||void 0===o||null===(r=o.result)||void 0===r?void 0:r.link),z(Object(O.a)(Object(O.a)({},P),{},Object(x.a)({},null===a||void 0===a||null===(i=a.data)||void 0===i||null===(c=i.image)||void 0===c?void 0:c.id,null===o||void 0===o?void 0:o.link))),y(Xn.fetched);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[I,g]),Object(m.jsx)("img",{alt:null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.title,height:o,onError:function(e){u&&Xn!==Xn.fetched&&y(Xn.error)},src:u||"".concat("/dropbox-demo-tape-web","/android-icon-96x96.png"),width:o})},rt=s.c.div(Yn||(Yn=Object(ge.a)(["\n  ","\n  color: ",";\n"])),(function(e){return e.theme.typography.sub}),(function(e){return e.theme.color.disabled})),it=s.c.div(Zn||(Zn=Object(ge.a)(["\n  display: grid;\n"]))),at=s.c.span(et||(et=Object(ge.a)(["\n  color: ",";\n"])),(function(e){return e.theme.color.primary})),ct=s.c.div(nt||(nt=Object(ge.a)(["\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 50px 1fr;\n"])));var ot=function(e){var n=e.playlist;return Object(m.jsxs)(ct,{children:[Object(m.jsx)(tt,{playlist:n}),Object(m.jsxs)(it,{children:[Object(m.jsx)("h1",{children:n.data.title}),n.data.artist&&Object(m.jsxs)(rt,{children:["By ",Object(m.jsx)(at,{children:n.data.artist})]})]})]})},st="(min-width: 660px) and (max-width: 1023px)",lt="(min-width: 1024px)";var ut,dt,pt=function(){return function(e,n,t){var i=e.map((function(e){return window.matchMedia(e)})),a=function(){var e=i.findIndex((function(e){return e.matches}));return"undefined"!==typeof n[e]?n[e]:t},c=Object(r.useState)(a),o=Object(f.a)(c,2),s=o[0],l=o[1];return Object(r.useEffect)((function(){var e=function(){return l(a)};return i.forEach((function(n){return n.addListener(e)})),function(){return i.forEach((function(n){return n.removeListener(e)}))}}),[]),s}([st,lt],["medium","large"],"small")},jt=s.c.div(ut||(ut=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n"]))),bt=s.c.div(dt||(dt=Object(ge.a)(["\n  display: grid;\n  flex-direction: row;\n  grid-gap: 20px;\n  grid-template-columns: ",";\n  padding: 20px;\n"])),(function(e){return"small"===e.size?"1fr":"1fr auto"}));var ht,ft,Ot,gt,xt,vt,mt,yt,kt=function(e){var n=e.playlistId,t=q({playlistId:n}),i=t.data,a=t.isLoading,c=t.onSave,s=Object(r.useState)([]),l=Object(f.a)(s,2),u=l[0],d=l[1],p=Object(r.useState)(!1),j=Object(f.a)(p,2),b=j[0],h=j[1],g=Object(o.d)(),x=pt(),v=je("/playlist/".concat(n));return Object(r.useEffect)((function(){var e;d(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.image)}),[a,i]),Object(m.jsxs)("div",{children:[Object(m.jsxs)(bt,{size:x,children:[Object(m.jsx)(ot,{playlist:i}),Object(m.jsxs)(jt,{children:[Object(m.jsx)(Ie,{disabled:!b,onClick:function(){c(Object(O.a)(Object(O.a)({},i),{},{data:Object(O.a)(Object(O.a)({},i.data),{},{image:u})})),g(v)},children:"Save"}),Object(m.jsx)(ke,{to:v,children:"Cancel"})]})]}),Object(m.jsx)(En,{onSelectionChange:function(e){var n=Object(f.a)(e,1)[0];d(n),b||h(!0)},selectedEntries:u?[u]:[],showImages:!0})]})},wt=t(81),St=t.n(wt),Ct=Object(s.c)(o.a)(ht||(ht=Object(ge.a)(["\n  color: ",";\n  cursor: pointer;\n  text-decoration: none;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.highlight})),Pt=s.c.div(ft||(ft=Object(ge.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 20px;\n"]))),zt=s.c.h2(Ot||(Ot=Object(ge.a)([""]))),It=s.c.div(gt||(gt=Object(ge.a)(["\n  color: ",";\n"])),(function(e){return e.theme.color.disabled})),Et=s.c.span(xt||(xt=Object(ge.a)(["\n  ","\n  text-align: right;\n"])),(function(e){return e.theme.typography.sub})),Dt=s.c.span(vt||(vt=Object(ge.a)(["\n  ","\n  color: ",";\n"])),(function(e){return e.theme.typography.sub}),(function(e){return e.theme.color.secondary})),Tt=s.c.div(mt||(mt=Object(ge.a)(["\n  ","\n  align-items: center;\n  background-color: ",";\n  border: none;\n  border-top: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 50px 1fr auto;\n  line-height: 30px;\n  outline: none;\n  padding: ","px ","px;\n  text-align: left;\n\n  :hover {\n    background-color: ","11;\n  }\n"])),(function(e){return e.theme.typography.base}),(function(e){return e.theme.color[e.isPlaying?"bgHighlight":"background"]}),(function(e){return e.theme.color.bgHighlight}),(function(e){return e.theme.color[e.isPlaying?"highlight":"inherit"]}),(function(e){return e.theme.space.medium}),(function(e){return e.theme.space.large}),(function(e){return e.theme.color.primary})),At=s.c.div(yt||(yt=Object(ge.a)(["\n  display: grid;\n"])));var Lt=function(){var e=$({forceRefresh:!0}),n=pt();return Object(m.jsxs)("div",{children:[Object(m.jsx)(Pt,{children:Object(m.jsx)(ke,{to:"new",children:"Add"})}),Object(m.jsx)(jn,{isLoading:e.isLoading}),Object(m.jsx)(sn,{getKey:function(e){return e.meta.id},items:e.data,itemRenderer:function(e){var t,r,i=null===(t=e.meta.user)||void 0===t||null===(r=t.name)||void 0===r?void 0:r.display_name;return Object(m.jsx)(Ct,{to:"playlist/".concat(e.meta.id),children:Object(m.jsxs)(Tt,{children:[Object(m.jsx)(tt,{playlist:e}),Object(m.jsxs)(At,{children:[Object(m.jsx)(zt,{children:e.data.title}),Object(m.jsx)(Dt,{children:e.data.artist||e.meta.path_display})]}),"small"!==n&&Object(m.jsxs)(Et,{children:["Updated"," ",St()(new Date(e.meta.server_modified),new Date),Object(m.jsxs)(It,{children:[Boolean(i)?"by ":"",i]})]})]})})}})]})};var _t,Bt,Mt,Ft=function(){return Object(m.jsx)(Lt,{})},Ht=t(169),Nt=t.n(Ht),Rt=t(350),Ut=t(351),Vt=s.c.img(_t||(_t=Object(ge.a)([""]))),Jt=s.c.span(Bt||(Bt=Object(ge.a)(["\n  font-size: 16px;\n"]))),Kt=s.c.div(Mt||(Mt=Object(ge.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: ",";\n  display: flex;\n  justify-content: center;\n  height: ","px;\n  overflow: hidden;\n  position: relative;\n  width: ","px;\n"])),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.background}),(function(e){return e.size}),(function(e){return e.size}));var Gt,Wt,$t,qt,Qt=function(e){var n=e.initials,t=e.name,i=e.size,a=void 0===i?36:i,c=e.url,o=Object(r.useState)(!1),s=Object(f.a)(o,2),l=s[0],u=s[1];return Object(r.useEffect)((function(){c&&l&&u(!1)}),[c]),Object(m.jsx)(Kt,{size:a,children:c&&!l?Object(m.jsx)(Vt,{alt:t||n,height:a,onError:function(){return u(!0)},src:c,width:a}):Object(m.jsx)(Jt,{children:n})})},Xt=s.c.div(Gt||(Gt=Object(ge.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n"]))),Yt=s.c.h1(Wt||(Wt=Object(ge.a)(["\n  padding-left: 10px;\n"]))),Zt=s.c.button($t||($t=Object(ge.a)(["\n  background: transparent;\n  border: none;\n  margin: 0;\n  outline: none;\n  padding: 0;\n"]))),er=s.c.div(qt||(qt=Object(ge.a)(["\n  align-items: center;\n  background-color: ",";\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  padding: 20px;\n"])),(function(e){return e.theme.color.backgroundLight}));var nr,tr,rr,ir=function(e){e.location;var n=Object(r.useState)(null),t=Object(f.a)(n,2),i=t[0],a=t[1],c=E(),o=c.currentUser,s=c.onLogout;return Object(m.jsxs)(er,{children:[Object(m.jsx)(Ct,{to:pe,children:Object(m.jsxs)(Xt,{children:[Object(m.jsx)(Nt.a,{fontSize:"large"}),Object(m.jsx)(Yt,{children:"Demo Tape"})]})}),Object(m.jsx)("span",{}),o&&Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(Zt,{"aria-controls":"user-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},children:Object(m.jsx)(Qt,{initials:null===o||void 0===o?void 0:o.name.abbreviated_name,name:null===o||void 0===o?void 0:o.name.display_name,url:null===o||void 0===o?void 0:o.profile_photo_url})}),Object(m.jsx)(Rt.a,{elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},id:"user-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){a(null)},children:Object(m.jsx)(Ut.a,{onClick:function(){s()},children:"Logout"})})]})]})},ar=t(82),cr=t.n(ar),or=t(49),sr=t.n(or),lr=t(84),ur=t.n(lr),dr=t(83),pr=t.n(dr),jr=s.c.button(nr||(nr=Object(ge.a)(["\n  align-items: center;\n  background-color: ",";\n  border: ",";\n  border-radius: 50%;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  height: ","px;\n  justify-content: center;\n  outline: none;\n  transition: ",";\n  width: ","px;\n\n  :hover,\n  :focus {\n    background-color: white;\n    color: ",";\n  }\n\n  ","\n"])),(function(e){return e.hideBackground?"transparent":e.theme.color.background}),(function(e){return e.hideBorder?"none":"1px solid white"}),(function(e){return e.size||30}),(function(e){return e.theme.transition}),(function(e){return e.size||30}),(function(e){return e.theme.color.background}),(function(e){return e.disabled?"\n    color: ".concat(e.theme.color.disabled,";\n    cursor: unset;\n    border-color: ").concat(e.theme.color.transparent,";\n\n    :hover, :focus {\n      background-color: ").concat(e.theme.color.background,";\n      color: ").concat(e.theme.color.disabled,";\n    }\n  "):""}));function br(e){var n=e/1e3,t=Math.floor(n%60);return hr(Math.floor(n/60))+":"+hr(t)}function hr(e){var n=e.toString();return e<10?"0"+n:n}var fr=s.c.span(tr||(tr=Object(ge.a)(["\n  text-align: right;\n"]))),Or=s.c.div(rr||(rr=Object(ge.a)(["\n  align-items: center;\n  color: ",";\n  display: grid;\n  grid-template-columns: 60px 1fr 60px;\n  grid-gap: 5px;\n"])),(function(e){return e.theme.color[e.isDisabled?"disabled":"primary"]}));var gr,xr,vr,mr,yr=function(){var e=oe(),n=Object(r.useState)(0),t=Object(f.a)(n,2),i=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(f.a)(c,2),s=o[0],l=o[1],u=Object(r.useRef)();function d(n){l(!1);var t=parseInt(u.current.value);isNaN(t)||e.onSeek(t)}var p=s?i:e.position;return Object(m.jsxs)(Or,{isDisabled:!e.track,children:[Object(m.jsx)(fr,{children:br(p)}),Object(m.jsx)("input",{type:"range",disabled:!e.track,min:0,max:e.duration,onChange:function(e){a(u.current.value)},onMouseDown:function(e){l(!0)},onMouseUp:function(e){d()},onTouchEnd:function(e){d()},onTouchStart:function(e){l(!0)},ref:u,value:p}),Object(m.jsx)("span",{children:br(e.duration)})]})},kr=s.c.div(gr||(gr=Object(ge.a)(["\n  ","\n  color: ",";\n"])),(function(e){return e.theme.typography.sub}),(function(e){return e.theme.color.disabled})),wr=s.c.div(xr||(xr=Object(ge.a)(["\n  display: grid;\n  grid-gap: 2px;\n"]))),Sr=s.c.div(vr||(vr=Object(ge.a)(["\n  ","\n  font-weight: 500;\n"])),(function(e){return e.theme.typography.base})),Cr=s.c.div(mr||(mr=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: 50px 1fr;\n"])));var Pr,zr,Ir,Er=function(e){var n,t,r,i,a=e.playlist,c=e.track;return Object(m.jsxs)(Cr,{children:[Object(m.jsx)(tt,{playlist:null===a||void 0===a?void 0:a.data}),Object(m.jsxs)(wr,{children:[Object(m.jsx)(Sr,{children:A(null===c||void 0===c?void 0:c.name)}),Object(m.jsx)(kr,{children:(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.artist)||(null===a||void 0===a||null===(r=a.data)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.title)})]})]})},Dr=t(170),Tr=t.n(Dr),Ar=t(171),Lr=t.n(Ar),_r=s.c.div(Pr||(Pr=Object(ge.a)(["\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.highlight})),Br=s.c.input(zr||(zr=Object(ge.a)(["\n  width: 100%;\n"]))),Mr=s.c.div(Ir||(Ir=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: 20px 1fr;\n  padding: 0 10px;\n"])));var Fr,Hr,Nr,Rr,Ur=function(){var e=oe(),n=e.isMuted,t=e.onMute,r=e.onUnmute,i=e.onVolumeChange,a=e.volume,c=0===a||n?Tr.a:Lr.a;return Object(m.jsxs)(Mr,{children:[Object(m.jsx)(_r,{as:c,fontSize:"small",onClick:n?r:t}),Object(m.jsx)(Br,{max:1,min:0,onChange:function(e){return i(e.currentTarget.value)},step:.01,type:"range",value:n?0:a})]})},Vr=s.c.div(Fr||(Fr=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n  justify-content: center;\n"]))),Jr=s.c.div(Hr||(Hr=Object(ge.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Kr=s.c.div(Nr||(Nr=Object(ge.a)(["\n  display: grid;\n  flex: 1;\n  grid-gap: 5px;\n  max-width: 700px;\n"]))),Gr=s.c.div(Rr||(Rr=Object(ge.a)(["\n  align-items: center;\n  background-color: ",";\n  bottom: 0;\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: minmax(200px, 0.5fr) 1fr 150px;\n  padding: 10px 20px;\n  position: absolute;\n  width: 100%;\n"])),(function(e){return e.theme.color.backgroundLight}));var Wr,$r,qr,Qr,Xr,Yr,Zr,ei=function(){var e=oe(),n=!!e.track,t=e.state===te,r=e.state===ee,i=t?Object(m.jsx)(jr,{"aria-label":"Pause",onClick:e.onPause,size:40,children:Object(m.jsx)(cr.a,{})}):Object(m.jsx)(jr,{"aria-label":"Play",disabled:r||!n,onClick:function(){return e.onResume()},size:40,children:Object(m.jsx)(sr.a,{})});return Object(m.jsxs)(Gr,{children:[Object(m.jsx)(Er,{playlist:e.playlist,track:e.track}),Object(m.jsx)(Jr,{children:Object(m.jsxs)(Kr,{children:[Object(m.jsxs)(Vr,{children:[Object(m.jsx)(jr,{"aria-label":"Previous",disabled:!e.hasPrevious,hideBorder:!0,onClick:e.onPrevious,children:Object(m.jsx)(pr.a,{fontSize:"small"})}),i,Object(m.jsx)(jr,{"aria-label":"Next",disabled:!e.hasNext,hideBorder:!0,onClick:e.onNext,children:Object(m.jsx)(ur.a,{fontSize:"small"})})]}),Object(m.jsx)(yr,{})]})}),Object(m.jsx)(Ur,{})]})},ni=s.c.div(Wr||(Wr=Object(ge.a)(["\n  ","\n  color: ",";\n"])),(function(e){return e.theme.typography.sub}),(function(e){return e.theme.color.disabled})),ti=s.c.div($r||($r=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n  justify-content: center;\n"]))),ri=s.c.div(qr||(qr=Object(ge.a)(["\n  align-items: center;\n  border-top: ;\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: auto 1fr;\n  padding: 10px;\n"]))),ii=s.c.div(Qr||(Qr=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 20px;;\n  grid-template-columns: 1fr;\n  padding: 20px;\n"]))),ai=s.c.div(Xr||(Xr=Object(ge.a)(["\n  display: grid;\n  grid-gap: 10px;\n"]))),ci=s.c.div(Yr||(Yr=Object(ge.a)(["\n  ","\n  font-weight: 500;\n"])),(function(e){return e.theme.typography.base})),oi=s.c.div(Zr||(Zr=Object(ge.a)(["\n  background-color: ",";\n  bottom: 0;\n  height: ",";\n  position: absolute;\n  width: 100%;\n"])),(function(e){return e.isExpanded?e.theme.color.background:e.theme.color.backgroundLight}),(function(e){return e.isExpanded?"100vh":"auto"}));var si=function(){var e,n,t,i,a,c,o,s,l=r.useState(!1),u=Object(f.a)(l,2),d=u[0],p=u[1],j=oe(),b=!!j.track,h=j.state===te,O=j.state===ee;if(!b)return null;var g=d?40:30,x=h?Object(m.jsx)(jr,{"aria-label":"Pause",hideBackground:!d,hideBorder:!d,onClick:j.onPause,size:g+10,children:Object(m.jsx)(cr.a,{})}):Object(m.jsx)(jr,{"aria-label":"Play",disabled:O||!b,hideBackground:!d,hideBorder:!d,onClick:function(){return j.onResume()},size:g+10,children:Object(m.jsx)(sr.a,{fontSize:d?"large":"default"})}),v=d?Object(m.jsxs)(ii,{children:[Object(m.jsx)(jr,{"aria-label":"expand",hideBorder:!0,onClick:function(){return p(!1)},style:{justifySelf:"flex-end"},children:Object(m.jsx)(On.a,{fontSize:d?"default":"small"})}),Object(m.jsx)(ci,{children:null===(e=j.playlist)||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.title}),Object(m.jsx)(tt,{playlist:null===(i=j.playlist)||void 0===i?void 0:i.data,size:"100%"}),Object(m.jsxs)(ai,{children:[Object(m.jsx)(ci,{children:A(null===(a=j.track)||void 0===a?void 0:a.name)}),Object(m.jsx)(ni,{children:null===(c=j.playlist)||void 0===c||null===(o=c.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.artist})]}),Object(m.jsx)(yr,{}),Object(m.jsxs)(ti,{children:[Object(m.jsx)(jr,{"aria-label":"Previous",disabled:!j.hasPrevious,hideBorder:!0,onClick:j.onPrevious,size:g,children:Object(m.jsx)(pr.a,{fontSize:"small"})}),x,Object(m.jsx)(jr,{"aria-label":"Next",disabled:!j.hasNext,hideBorder:!0,onClick:j.onNext,size:g,children:Object(m.jsx)(ur.a,{fontSize:d?"default":"small"})})]})]}):Object(m.jsxs)(ri,{children:[x,Object(m.jsx)("div",{onClick:function(){return p(!0)},children:Object(m.jsx)(Er,{playlist:j.playlist,track:j.track})})]});return Object(m.jsx)(oi,{isExpanded:d,children:v})};var li,ui,di,pi=function(){return"small"===pt()?Object(m.jsx)(si,{}):Object(m.jsx)(ei,{})},ji=s.c.main(li||(li=Object(ge.a)(["\n  background-color: ",";\n  overflow-y: scroll;\n  padding-bottom: 113px;\n"])),(function(e){return e.theme.color.background})),bi=s.c.div(ui||(ui=Object(ge.a)(["\n  max-width: 1150px;\n  margin: 0 auto;\n"]))),hi=s.c.div(di||(di=Object(ge.a)(["\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  height: 100vh;\n  overflow: hidden;\n"])));var fi=function(e){var n=e.children,t=e.location;return E().isAuthenticated||t.pathname.includes("/auth")?Object(m.jsxs)(hi,{children:[Object(m.jsx)(ir,{location:t}),Object(m.jsx)(ji,{children:Object(m.jsx)(bi,{children:n})}),Object(m.jsx)(pi,{})]}):Object(m.jsx)(o.b,{noThrow:!0,to:"auth"})};var Oi,gi,xi,vi,mi,yi=function(e){var n=e.message,t=e.onClick,i=Object(Dn.a)(e,["message","onClick"]),a=Object(r.useState)(!1),c=Object(f.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){s(!1)}),2e3);return function(){clearTimeout(e)}}),[o]),o?Object(m.jsx)(Ie,{onBlur:function(){return s(!1)},onClick:t,children:n||"Are you sure?"}):Object(m.jsx)(Ie,Object(O.a)({onClick:function(){s(!0)}},i))},ki=t(87),wi=t(176),Si=t.n(wi),Ci=t(172),Pi=t.n(Ci),zi=t(173),Ii=t.n(zi),Ei=s.c.div(Oi||(Oi=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  line-height: 30px;\n  grid-gap: 5px;\n  grid-template-columns: ","px 20px 1fr ",";\n  padding: ","px;\n"])),(function(e){return"small"===e.size?35:40}),(function(e){return"small"===e.size||e.isEditable?"":"auto"}),(function(e){return"small"===e.size?"".concat(e.theme.space.medium,"px ").concat(e.theme.space.small):e.theme.space.medium})),Di=s.c.span(gi||(gi=Object(ge.a)(["\n  align-items: center;\n  border: 1px solid transparent;\n  border-radius: 50%;\n  color: ",";\n  display: flex;\n  height: 30px;\n  justify-content: center;\n  line-height: 30px;\n  width: 30px;\n"])),(function(e){return e.isPlaying?"white":"transparent"})),Ti=s.c.span(xi||(xi=Object(ge.a)(["\n  color: ",";\n  display: grid;\n  font-size: 11px;\n  line-height: 15px;\n  text-align: right;\n"])),(function(e){return e.theme.color.secondary})),Ai=s.c.span(vi||(vi=Object(ge.a)(["\n  color: ",";\n"])),(function(e){return e.theme.color.disabled})),Li=s.c.button(mi||(mi=Object(ge.a)(["\n","\nbackground-color: ",";\n  border: none;\n  border-top: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  outline: none;\n  text-align: left;\n  width: 100%;\n  \n  :hover {\n    background-color: ","11;\n    \n    #play {\n      border-color: white;\n      color: white;\n    }\n  }\n"])),(function(e){return e.theme.typography.base}),(function(e){return e.theme.color[e.isPlaying?"bgHighlight":"background"]}),(function(e){return e.theme.color.bgHighlight}),(function(e){return e.theme.color[e.isPlaying?"highlight":"inherit"]}),(function(e){return e.theme.color.primary}));var _i,Bi,Mi=function(e){var n=e.index,t=e.isEditable,r=e.isPlaying,i=e.onClick,a=e.onDelete,c=e.track,o=e.user,s=pt();return Object(m.jsx)(Li,{isPlaying:r,onClick:t?void 0:function(){return i(c)},children:Object(m.jsxs)(Ei,{isEditable:t,size:s,children:[t?Object(m.jsx)(jr,{onClick:function(){return a(c)},children:Object(m.jsx)(Pi.a,{fontSize:"small"})}):Object(m.jsx)(Di,{id:"play",isPlaying:r,children:r?Object(m.jsx)(Ii.a,{fontSize:"small"}):Object(m.jsx)(sr.a,{fontSize:"small"})}),Object(m.jsxs)("span",{children:[n,"."]}),Object(m.jsx)("span",{children:A(c.name)}),"small"!==s&&!t&&Object(m.jsxs)(Ti,{children:[Object(m.jsxs)("span",{children:["Updated"," ",St()(new Date(c.server_modified),new Date)]}),o&&Object(m.jsxs)(Ai,{children:["by ",o.name.display_name]})]})]})})},Fi=s.c.div(_i||(_i=Object(ge.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  position: absolute;\n  right: 10px;\n  top: 0;\n"])),(function(e){return e.theme.color.primary})),Hi=s.c.div(Bi||(Bi=Object(ge.a)(["\n  position: relative;\n"])));function Ni(e,n){return e.playingId===n.playingId&&e.tracks.map((function(e){return e.id})).join()===n.tracks.map((function(e){return e.id})).join()}var Ri=i.a.memo((function(e){var n=e.onTrackClick,t=e.onTrackDelete,r=e.playingId,i=e.tracks;return Object(m.jsx)(sn,{getKey:function(e){return e.id},items:i,itemRenderer:function(e,i){return Object(m.jsx)(ki.b,{draggableId:e.id,index:i,children:function(a){return Object(m.jsxs)(Hi,Object(O.a)(Object(O.a)({ref:a.innerRef},a.draggableProps),{},{children:[Object(m.jsx)(Mi,{index:i+1,isEditable:!0,isPlaying:r===e.id,onClick:n,onDelete:t,track:e}),Object(m.jsx)(Fi,Object(O.a)(Object(O.a)({},a.dragHandleProps),{},{children:Object(m.jsx)(Si.a,{})}))]}))}})}})}),Ni);var Ui,Vi,Ji,Ki,Gi,Wi=function(e){var n=e.isEditing,t=e.onTrackChange,r=e.onTrackClick,i=(e.onTrackDelete,e.playingId),a=e.tracks,c=e.users;function o(e){t(a.filter((function(n){return n.id!==e.id})))}return n?Object(m.jsx)(ki.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var n=function(e,n,t){var r=Array.from(e),i=r.splice(n,1),a=Object(f.a)(i,1)[0];return r.splice(t,0,a),r}(a,e.source.index,e.destination.index);t(n)}},children:Object(m.jsx)(ki.c,{droppableId:"tracks",children:function(e){return Object(m.jsxs)("div",Object(O.a)(Object(O.a)({ref:e.innerRef},e.droppableProps),{},{children:[Object(m.jsx)(Ri,{onTrackClick:r,onTrackDelete:o,playingId:i,tracks:a}),e.placeholder]}))}})}):Object(m.jsx)(sn,{getKey:function(e){return e.id},items:a,itemRenderer:function(e,n){return Object(m.jsx)(Mi,{index:n+1,isPlaying:i===e.id,onClick:r,track:e,user:c[F(e)]})}})},$i=s.c.div(Ui||(Ui=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n"]))),qi=s.c.div(Vi||(Vi=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 110px auto;\n  justify-content: ",";\n  padding: 20px;\n"])),(function(e){return"small"===e.size?"space-between":"flex-start"})),Qi=s.c.div(Ji||(Ji=Object(ge.a)(["\n  align-items: ",";\n  display: grid;\n  grid-gap: ","px;\n  grid-template-columns: ",";\n  padding: 20px;\n"])),(function(e){return e.isEditing?"flex-start":"center"}),(function(e){return e.isEditing?40:20}),(function(e){return"small"===e.size?"1fr":"1fr auto"})),Xi=s.c.div(Ki||(Ki=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 50px 1fr;\n"]))),Yi=s.c.div(Gi||(Gi=Object(ge.a)(["\n  display: grid;\n  grid-gap: 20px;\n"])));var Zi,ea,na=function(e){var n,t=e.navigate,i=e.playlistId,a=q({playlistId:i}),c=a.data,o=a.isLoading,s=a.onDelete,l=a.onSave,u=a.users,d=Object(r.useState)(!1),p=Object(f.a)(d,2),j=p[0],g=p[1],x=Object(r.useState)(!1),v=Object(f.a)(x,2),y=v[0],k=v[1],w=Object(r.useState)(c),S=Object(f.a)(w,2),C=S[0],P=S[1],z=oe(),I=pt();function E(){return(E=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(C);case 2:t(pe);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){y?(j&&l(C),g(!1),k(!1)):(k(!0),P(c))}return Object(m.jsxs)("div",{children:[y?Object(m.jsxs)(Qi,{isEditing:y,size:I,children:[Object(m.jsxs)(Yi,{children:[Object(m.jsxs)(Xi,{children:[Object(m.jsx)(tt,{playlist:C}),Object(m.jsx)(ke,{to:"image",children:"Edit Image"})]}),Object(m.jsx)(Vn,{onChange:function(e){P(Object(O.a)(Object(O.a)({},C),{},{data:Object(O.a)(Object(O.a)({},C.data),{},{title:e})})),g(!0)},title:"Title",value:C.data.title}),Object(m.jsx)(Vn,{onChange:function(e){P(Object(O.a)(Object(O.a)({},C),{},{data:Object(O.a)(Object(O.a)({},C.data),{},{artist:e})})),g(!0)},title:"Artist",value:C.data.artist||""})]}),Object(m.jsx)($i,{children:Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(Ie,{disabled:!j,onClick:D,children:"Save"}),Object(m.jsx)(Ie,{onClick:function(){g(!1),k(!1),P(c)},children:"Cancel"})]})})]}):Object(m.jsxs)(Qi,{isEditing:y,size:I,children:[Object(m.jsx)(ot,{playlist:C}),Object(m.jsxs)($i,{children:[Object(m.jsx)(Ie,{onClick:D,children:"Edit"}),Object(m.jsx)(yi,{message:"Really Delete?",onClick:function(){return E.apply(this,arguments)},children:"Delete"})]})]}),y&&Object(m.jsxs)(qi,{size:I,children:[Object(m.jsx)("h2",{children:"Tracks"}),Object(m.jsx)(ke,{to:"tracks",children:"Add Tracks"})]}),Object(m.jsx)(jn,{isLoading:o}),Object(m.jsx)(Wi,{isEditing:y,onTrackChange:function(e){P(Object(O.a)(Object(O.a)({},C),{},{data:Object(O.a)(Object(O.a)({},C.data),{},{tracks:e})})),g(!0)},onTrackClick:function(e){z.onPlay({playlistId:i,trackId:e.id})},playingId:null===(n=z.track)||void 0===n?void 0:n.id,tracks:C.data.tracks,users:u})]})},ta=s.c.div(Zi||(Zi=Object(ge.a)(["\n  align-items: center;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 20px;\n"]))),ra=s.c.div(ea||(ea=Object(ge.a)(["\n  display: grid;\n  flex-direction: row;\n  grid-gap: 20px;\n  grid-template-columns: ",";\n  padding: 20px;\n"])),(function(e){return"small"===e.size?"1fr":"1fr auto"}));var ia=function(e){var n=e.playlistId,t=q({playlistId:n}),i=t.data,a=t.isLoading,c=t.onSave,s=Object(r.useState)([]),l=Object(f.a)(s,2),u=l[0],d=l[1],p=Object(r.useState)(!1),j=Object(f.a)(p,2),b=j[0],h=j[1],g=Object(o.d)(),x=pt(),v=je("/playlist/".concat(n));return Object(r.useEffect)((function(){var e;d((null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.tracks)||[])}),[a,i]),Object(m.jsxs)("div",{children:[Object(m.jsxs)(ra,{size:x,children:[Object(m.jsx)(ot,{playlist:i}),Object(m.jsxs)(ta,{children:[Object(m.jsx)(Ie,{disabled:!b,onClick:function(){c(Object(O.a)(Object(O.a)({},i),{},{data:Object(O.a)(Object(O.a)({},i.data),{},{tracks:u})})),g(v)},children:"Save"}),Object(m.jsx)(ke,{to:v,children:"Cancel"})]})]}),Object(m.jsx)(En,{onSelectionChange:function(e){d(e),b||h(!0)},selectedEntries:u,showFiles:!0})]})},aa=Object(l.a)({palette:{primary:p.a}});function ca(){var e=window.location.href.replace("/auth","").replace(/\/$/,"");return"".concat(e,"/auth")}var oa=function(){return Object(m.jsx)(Oe,{children:Object(m.jsx)(u.a,{theme:aa,children:Object(m.jsx)(s.a,{theme:ve,children:Object(m.jsx)(k,{children:Object(m.jsx)(I,{authUrl:ca(),children:Object(m.jsx)(ce,{children:Object(m.jsx)(o.c,{basepath:pe,children:Object(m.jsxs)(fi,{path:"/",children:[Object(m.jsx)(ze,{path:"auth"}),Object(m.jsx)(Qn,{path:"new"}),Object(m.jsx)(na,{path:"playlist/:playlistId"}),Object(m.jsx)(kt,{path:"playlist/:playlistId/image"}),Object(m.jsx)(ia,{path:"playlist/:playlistId/tracks"}),Object(m.jsx)(Ft,{path:"/"})]})})})})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(m.jsx)(oa,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[319,1,2]]]);
//# sourceMappingURL=main.4f12c505.chunk.js.map